#!/bin/sh

mkdir -p build/js

cat src/app.html | sed -e 's/app.js/test-buckets.js/g' > build/test-buckets.html
cat src/app.html | sed -e 's/app.js/test-callbacks.js/g' > build/test-callbacks.html
cat src/app.html | sed -e 's/app.js/test-csv.js/g' > build/test-csv.html
cat src/app.html | sed -e 's/app.js/test-events.js/g' > build/test-events.html
cat src/app.html | sed -e 's/app.js/test-hash-change.js/g' > build/test-hash-change.html
cat src/app.html | sed -e 's/app.js/test-loading.js/g' > build/test-loading.html
cat src/app.html | sed -e 's/app.js/test-messaging.js/g' > build/test-messaging.html
cat src/app.html | sed -e 's/app.js/test-net.js/g' > build/test-net.html
cat src/app.html | sed -e 's/app.js/test-promise.js/g' > build/test-promise.html
cat src/app.html | sed -e 's/app.js/test-react-lifecycle.js/g' > build/test-react-lifecycle.html
cat src/app.html | sed -e 's/app.js/test-react-lists-in-state.js/g' > build/test-react-lists-in-state.html
cat src/app.html | sed -e 's/app.js/test-state.js/g' > build/test-state.html
cat src/app.html | sed -e 's/app.js/test-throttle.js/g' > build/test-throttle.html

cp bower_components/console-polyfill/index.js build/js/console-polyfill.js
cp bower_components/es5-shim/es5-sham.js build/js/es5-sham.js
cp bower_components/es5-shim/es5-shim.js build/js/es5-shim.js
cp bower_components/html5shiv/dist/html5shiv.js build/js/html5shiv.js

npm run build
