{"version":3,"sources":["../../src/pages/document/document.module.ts","../../node_modules/firebase/storage/implementation/type.js","../../node_modules/firebase/storage/implementation/error.js","../../node_modules/firebase/storage/implementation/promise_external.js","../../node_modules/firebase/storage/implementation/object.js","../../node_modules/firebase/storage/implementation/constants.js","../../node_modules/firebase/storage/implementation/location.js","../../node_modules/firebase/messaging/models/errors.js","../../node_modules/firebase/storage/implementation/string.js","../../node_modules/firebase/storage/implementation/args.js","../../node_modules/firebase/storage/implementation/metadata.js","../../node_modules/firebase/storage/implementation/url.js","../../node_modules/firebase/storage/implementation/array.js","../../node_modules/firebase/storage/implementation/taskenums.js","../../node_modules/firebase/storage/implementation/xhrio.js","../../node_modules/firebase/storage/reference.js","../../node_modules/firebase/storage/implementation/path.js","../../node_modules/firebase/storage/implementation/blob.js","../../node_modules/firebase/storage/implementation/requests.js","../../node_modules/firebase/messaging/controllers/controller-interface.js","../../node_modules/firebase/messaging/models/fcm-details.js","../../node_modules/firebase/messaging/models/notification-permission.js","../../node_modules/firebase/messaging/models/worker-page-message.js","../../node_modules/firebase/firebase-browser.js","../../node_modules/firebase/storage.js","../../node_modules/firebase/storage/implementation/xhriopool.js","../../node_modules/firebase/storage/implementation/xhrio_network.js","../../node_modules/firebase/storage/implementation/json.js","../../node_modules/firebase/storage/implementation/fs.js","../../node_modules/firebase/storage/implementation/requestinfo.js","../../node_modules/firebase/storage/task.js","../../node_modules/firebase/storage/implementation/observer.js","../../node_modules/firebase/storage/tasksnapshot.js","../../node_modules/firebase/storage/implementation/async.js","../../node_modules/firebase/storage/service.js","../../node_modules/firebase/storage/implementation/authwrapper.js","../../node_modules/firebase/storage/implementation/failrequest.js","../../node_modules/firebase/storage/implementation/requestmap.js","../../node_modules/firebase/storage/implementation/request.js","../../node_modules/firebase/storage/implementation/backoff.js","../../node_modules/firebase/messaging.js","../../node_modules/firebase/messaging/controllers/window-controller.js","../../node_modules/firebase/messaging/models/token-manager.js","../../node_modules/firebase/messaging/helpers/array-buffer-to-base64.js","../../node_modules/firebase/messaging/models/default-sw.js","../../node_modules/firebase/messaging/controllers/sw-controller.js","../../src/pages/document/document.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACN;AAU1C,IAAa,kBAAkB;IAA/B;IAAkC,CAAC;IAAD,yBAAC;AAAD,CAAC;AAAtB,kBAAkB;IAR9B,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,+DAAY;SACb;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,+DAAY,CAAC;SACvC;KACF,CAAC;GACW,kBAAkB,CAAI;AAAJ;;;;;;;;;ACZ/B;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;;AAED,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACtEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC9NA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACnDA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;;AClDA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACjEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B,uBAAuB,2DAA2D,GAAG,iEAAiE;AACtJ,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AClHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,m4BAAm4B,qBAAqB,weAAwe,SAAS,umCAAumC,SAAS;AACjhF;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;ACnEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6GAA6G;AAC7G;AACA;AACA;AACA,6CAA6C;AAC7C,mFAAmF;AACnF;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACtMA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA,YAAY,UAAU;AACtB;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA,SAAS;AACT;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC9JA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,mBAAmB;AAC/D;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC7MA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;;;;;;;AC9DA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACpDA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACrEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,kDAAkD;AACnD;;;;;;;;;ACjCA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;;;;;;;;AClRA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;;;;;;;ACpEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;;;;;;;;AC5IA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,aAAa;AACb;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mCAAmC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA,iFAAiF;AACjF;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AChWA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,gCAAgC;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,2BAA2B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,+BAA+B;AAC9C,eAAe,kBAAkB;AACjC,eAAe,YAAY;AAC3B,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,8BAA8B;AAC7C;AACA,eAAe,kBAAkB;AACjC;AACA,eAAe,YAAY;AAC3B;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;;;;;;;;AC1LA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACnCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC9BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC/CA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;AC1CA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC/DA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACtCA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC7JA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AChDA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;;;;;;;ACxEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;;;;;;;;ACtCA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;;;;;;;;AC9jBA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACnDA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;;;;;;;;;ACrCA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AClDA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;;;;;;;;ACvKA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;;;;;;;;AC7IA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;;;;;;;;ACvCA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,CAAC;AACD;AACA;;;;;;;;;ACzEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC3PA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC5HA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACxDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA,kDAAkD,gBAAgB;AAClE;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,gCAAgC;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,eAAe,2BAA2B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,+BAA+B;AAC9C;AACA,eAAe,kBAAkB;AACjC;AACA,eAAe,YAAY;AAC3B;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,8BAA8B;AAC7C;AACA,eAAe,kBAAkB;AACjC;AACA,eAAe,YAAY;AAC3B;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,0BAA0B;AAC1C;AACA,gBAAgB,oCAAoC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,gBAAgB,oCAAoC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;;;;;;;;ACpWA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,qBAAqB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB,iBAAiB;AACjC,gBAAgB,QAAQ;AACxB;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA,gBAAgB,OAAO;AACvB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB,0BAA0B;AAC1C;AACA,gBAAgB,iBAAiB;AACjC;AACA,gBAAgB,OAAO;AACvB;AACA,gBAAgB,OAAO;AACvB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,eAAe,0BAA0B;AACzC;AACA,gBAAgB,0BAA0B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA;AACA;;;;;;;;;ACjXA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACpCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC7BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA,kDAAkD,gBAAgB;AAClE;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,2BAA2B,uBAAuB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,gBAAgB,oCAAoC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7U0C;AAC0B;AACA;AACP;AAC1B;AACM;AAEzC,WAAW;AACiE;AAE5E;;;;;GAKG;AAOH,IAAa,YAAY;IAWvB,sBAAmB,OAAsB,EAAS,SAAoB,EAC5D,WAAwB,EACxB,MAAc,EAAU,oBAA0C;QAFzD,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAC5D,gBAAW,GAAX,WAAW,CAAa;QACxB,WAAM,GAAN,MAAM,CAAQ;QAAU,yBAAoB,GAApB,oBAAoB,CAAsB;QAL5E,mBAAc,GAAY,IAAI,CAAC;QAC/B,mBAAc,GAAY,IAAI,CAAC;QAM7B,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,qCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;IAC7C,CAAC;IAED,8BAAO,GAAP;QACE,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC7F,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACjC,CAAC;IAED,+BAAQ,GAAR;QACE,IAAI,CAAC,UAAU,GAAG,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;IACzD,CAAC;IAED,8BAAO,GAAP;QACE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACvC,YAAY,EAAE,CAAC,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAC;YACvC,YAAY,EAAE,CAAC,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAC;SAGxC,CAAC,CAAC;IACL,CAAC;IAEK,oCAAa,GAAnB;;;gBACM,IAAI,EAGA,OAAO,UASP,KAAK,EACL,OAAO,EACT,YAAU;;;;+BAdL,IAAI,CAAC,UAAU,GAAG,WAAW;wBACxC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;;;;kCAEM;4BAC7B,OAAO,EAAE,EAAE;4BACX,YAAY,EAAE,GAAG;4BACjB,WAAW,EAAE,GAAG;4BAChB,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,QAAQ;4BACrD,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI;4BAC3C,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO;yBACzC;wBACc,qBAAM,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC;;iCAArC,SAAqC;gCACtC,yBAAyB,GAAG,MAAM;kCAChC,yDAAO,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC;uCAClB,OAAO,CAAC,SAAS,CAAC,KAAK,EAAE,UAAU,CAAC;wBACrD,YAAU,CAAC,EAAE,CAAC,qDAAgB,CAAC,SAAS,CAAC,aAAa,EACpD,UAAC,QAAQ,IAAO,CAAC,EACjB,UAAC,KAAK,IAAO,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAC,CAAC,EACjC;4BACE,IAAI,GAAG,GAAG,YAAU,CAAC,QAAQ,CAAC,WAAW,CAAC;4BAC1C,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;4BACjB,KAAI,CAAC,YAAY,GAAG,GAAG,CAAC;4BACxB,KAAI,CAAC,cAAc,GAAG,KAAK,CAAC;wBAC9B,CAAC,CACF,CAAC;;;;wBACU,OAAO,CAAC,KAAK,CAAC,GAAC,CAAC,CAAC;;;;;;KAChC;IAGK,mCAAY,GAAlB;;;gBACM,IAAI,EAGA,OAAO,UASP,KAAK,EACL,OAAO,EACT,YAAU;;;;+BAdL,IAAI,CAAC,UAAU,GAAG,WAAW;wBACxC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;;;;kCAEM;4BAC7B,OAAO,EAAE,EAAE;4BACX,YAAY,EAAE,GAAG;4BACjB,WAAW,EAAE,GAAG;4BAChB,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,QAAQ;4BACrD,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI;4BAC3C,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO;yBACzC;wBACc,qBAAM,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC;;iCAArC,SAAqC;gCACtC,yBAAyB,GAAG,MAAM;kCAChC,yDAAO,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC;uCAClB,OAAO,CAAC,SAAS,CAAC,KAAK,EAAE,UAAU,CAAC;wBACrD,YAAU,CAAC,EAAE,CAAC,qDAAgB,CAAC,SAAS,CAAC,aAAa,EACpD,UAAC,QAAQ,IAAO,CAAC,EACjB,UAAC,KAAK,IAAO,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAC,CAAC,EACjC;4BACE,IAAI,GAAG,GAAG,YAAU,CAAC,QAAQ,CAAC,WAAW,CAAC;4BAC1C,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;4BACjB,KAAI,CAAC,YAAY,GAAG,GAAG,CAAC;4BACxB,KAAI,CAAC,cAAc,GAAG,KAAK,CAAC;wBAC9B,CAAC,CACF,CAAC;;;;wBACU,OAAO,CAAC,KAAK,CAAC,GAAC,CAAC,CAAC;;;;;;KAChC;IAEH,mBAAC;AAAD,CAAC;AApGY,YAAY;IALxB,wEAAS,EAAE;IACX,wEAAS,CAAC;QACT,QAAQ,EAAE,eAAe;OACG;KAC7B,CAAC;4EAYsE;QAC/C,mKAAW;QAChB,MAAM,EAAgC,CAAoB;AAuF7E;SApGY,YAAY,e","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { DocumentPage } from './document';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    DocumentPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(DocumentPage),\r\n  ],\r\n})\r\nexport class DocumentPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/document/document.module.ts","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nexports.isDef = isDef;\r\nexports.isJustDef = isJustDef;\r\nexports.isFunction = isFunction;\r\nexports.isObject = isObject;\r\nexports.isNonNullObject = isNonNullObject;\r\nexports.isNonArrayObject = isNonArrayObject;\r\nexports.isString = isString;\r\nexports.isNumber = isNumber;\r\nexports.isNativeBlob = isNativeBlob;\r\nexports.isNativeBlobDefined = isNativeBlobDefined;\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n/**\r\n * @return False if the object is undefined or null, true otherwise.\r\n */\r\nfunction isDef(p) {\r\n    return p != null;\r\n}\r\nfunction isJustDef(p) {\r\n    return p !== void 0;\r\n}\r\nfunction isFunction(p) {\r\n    return typeof p === 'function';\r\n}\r\nfunction isObject(p) {\r\n    return (typeof p === 'undefined' ? 'undefined' : _typeof(p)) === 'object';\r\n}\r\nfunction isNonNullObject(p) {\r\n    return isObject(p) && p !== null;\r\n}\r\nfunction isNonArrayObject(p) {\r\n    return isObject(p) && !Array.isArray(p);\r\n}\r\nfunction isString(p) {\r\n    return typeof p === 'string' || p instanceof String;\r\n}\r\nfunction isNumber(p) {\r\n    return typeof p === 'number' || p instanceof Number;\r\n}\r\nfunction isNativeBlob(p) {\r\n    return isNativeBlobDefined() && p instanceof Blob;\r\n}\r\nfunction isNativeBlobDefined() {\r\n    return typeof Blob !== 'undefined';\r\n}\r\n//# sourceMappingURL=type.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/type.js\n// module id = 472\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.Code = exports.errors = exports.FirebaseStorageError = undefined;\r\nexports.prependCode = prependCode;\r\nexports.unknown = unknown;\r\nexports.objectNotFound = objectNotFound;\r\nexports.bucketNotFound = bucketNotFound;\r\nexports.projectNotFound = projectNotFound;\r\nexports.quotaExceeded = quotaExceeded;\r\nexports.unauthenticated = unauthenticated;\r\nexports.unauthorized = unauthorized;\r\nexports.retryLimitExceeded = retryLimitExceeded;\r\nexports.invalidChecksum = invalidChecksum;\r\nexports.canceled = canceled;\r\nexports.invalidEventName = invalidEventName;\r\nexports.invalidUrl = invalidUrl;\r\nexports.invalidDefaultBucket = invalidDefaultBucket;\r\nexports.noDefaultBucket = noDefaultBucket;\r\nexports.cannotSliceBlob = cannotSliceBlob;\r\nexports.serverFileWrongSize = serverFileWrongSize;\r\nexports.noDownloadURL = noDownloadURL;\r\nexports.invalidArgument = invalidArgument;\r\nexports.invalidArgumentCount = invalidArgumentCount;\r\nexports.appDeleted = appDeleted;\r\nexports.invalidRootOperation = invalidRootOperation;\r\nexports.invalidFormat = invalidFormat;\r\nexports.internalError = internalError;\r\n\r\nvar _constants = require('./constants');\r\n\r\nvar FirebaseStorageError = function () {\r\n    function FirebaseStorageError(code, message) {\r\n        this.code_ = prependCode(code);\r\n        this.message_ = 'Firebase Storage: ' + message;\r\n        this.serverResponse_ = null;\r\n        this.name_ = 'FirebaseError';\r\n    }\r\n    FirebaseStorageError.prototype.codeProp = function () {\r\n        return this.code;\r\n    };\r\n    FirebaseStorageError.prototype.codeEquals = function (code) {\r\n        return prependCode(code) === this.codeProp();\r\n    };\r\n    FirebaseStorageError.prototype.serverResponseProp = function () {\r\n        return this.serverResponse_;\r\n    };\r\n    FirebaseStorageError.prototype.setServerResponseProp = function (serverResponse) {\r\n        this.serverResponse_ = serverResponse;\r\n    };\r\n    Object.defineProperty(FirebaseStorageError.prototype, \"name\", {\r\n        get: function get() {\r\n            return this.name_;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FirebaseStorageError.prototype, \"code\", {\r\n        get: function get() {\r\n            return this.code_;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FirebaseStorageError.prototype, \"message\", {\r\n        get: function get() {\r\n            return this.message_;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FirebaseStorageError.prototype, \"serverResponse\", {\r\n        get: function get() {\r\n            return this.serverResponse_;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return FirebaseStorageError;\r\n}(); /**\r\n     * Copyright 2017 Google Inc.\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     *\r\n     *   http://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     */\r\nexports.FirebaseStorageError = FirebaseStorageError;\r\nvar errors = exports.errors = {};\r\nvar Code = exports.Code = {\r\n    // Shared between all platforms\r\n    UNKNOWN: 'unknown',\r\n    OBJECT_NOT_FOUND: 'object-not-found',\r\n    BUCKET_NOT_FOUND: 'bucket-not-found',\r\n    PROJECT_NOT_FOUND: 'project-not-found',\r\n    QUOTA_EXCEEDED: 'quota-exceeded',\r\n    UNAUTHENTICATED: 'unauthenticated',\r\n    UNAUTHORIZED: 'unauthorized',\r\n    RETRY_LIMIT_EXCEEDED: 'retry-limit-exceeded',\r\n    INVALID_CHECKSUM: 'invalid-checksum',\r\n    CANCELED: 'canceled',\r\n    // JS specific\r\n    INVALID_EVENT_NAME: 'invalid-event-name',\r\n    INVALID_URL: 'invalid-url',\r\n    INVALID_DEFAULT_BUCKET: 'invalid-default-bucket',\r\n    NO_DEFAULT_BUCKET: 'no-default-bucket',\r\n    CANNOT_SLICE_BLOB: 'cannot-slice-blob',\r\n    SERVER_FILE_WRONG_SIZE: 'server-file-wrong-size',\r\n    NO_DOWNLOAD_URL: 'no-download-url',\r\n    INVALID_ARGUMENT: 'invalid-argument',\r\n    INVALID_ARGUMENT_COUNT: 'invalid-argument-count',\r\n    APP_DELETED: 'app-deleted',\r\n    INVALID_ROOT_OPERATION: 'invalid-root-operation',\r\n    INVALID_FORMAT: 'invalid-format',\r\n    INTERNAL_ERROR: 'internal-error'\r\n};\r\nfunction prependCode(code) {\r\n    return 'storage/' + code;\r\n}\r\nfunction unknown() {\r\n    var message = 'An unknown error occurred, please check the error payload for ' + 'server response.';\r\n    return new FirebaseStorageError(Code.UNKNOWN, message);\r\n}\r\nfunction objectNotFound(path) {\r\n    return new FirebaseStorageError(Code.OBJECT_NOT_FOUND, \"Object '\" + path + \"' does not exist.\");\r\n}\r\nfunction bucketNotFound(bucket) {\r\n    return new FirebaseStorageError(Code.BUCKET_NOT_FOUND, \"Bucket '\" + bucket + \"' does not exist.\");\r\n}\r\nfunction projectNotFound(project) {\r\n    return new FirebaseStorageError(Code.PROJECT_NOT_FOUND, \"Project '\" + project + \"' does not exist.\");\r\n}\r\nfunction quotaExceeded(bucket) {\r\n    return new FirebaseStorageError(Code.QUOTA_EXCEEDED, \"Quota for bucket '\" + bucket + \"' exceeded, please view quota on \" + 'https://firebase.google.com/pricing/.');\r\n}\r\nfunction unauthenticated() {\r\n    var message = 'User is not authenticated, please authenticate using Firebase ' + 'Authentication and try again.';\r\n    return new FirebaseStorageError(Code.UNAUTHENTICATED, message);\r\n}\r\nfunction unauthorized(path) {\r\n    return new FirebaseStorageError(Code.UNAUTHORIZED, \"User does not have permission to access '\" + path + \"'.\");\r\n}\r\nfunction retryLimitExceeded() {\r\n    return new FirebaseStorageError(Code.RETRY_LIMIT_EXCEEDED, 'Max retry time for operation exceeded, please try again.');\r\n}\r\nfunction invalidChecksum(path, checksum, calculated) {\r\n    return new FirebaseStorageError(Code.INVALID_CHECKSUM, \"Uploaded/downloaded object '\" + path + \"' has checksum '\" + checksum + \"' which does not match '\" + calculated + \"'. Please retry the upload/download.\");\r\n}\r\nfunction canceled() {\r\n    return new FirebaseStorageError(Code.CANCELED, 'User canceled the upload/download.');\r\n}\r\nfunction invalidEventName(name) {\r\n    return new FirebaseStorageError(Code.INVALID_EVENT_NAME, \"Invalid event name '\" + name + \"'.\");\r\n}\r\nfunction invalidUrl(url) {\r\n    return new FirebaseStorageError(Code.INVALID_URL, \"Invalid URL '\" + url + \"'.\");\r\n}\r\nfunction invalidDefaultBucket(bucket) {\r\n    return new FirebaseStorageError(Code.INVALID_DEFAULT_BUCKET, \"Invalid default bucket '\" + bucket + \"'.\");\r\n}\r\nfunction noDefaultBucket() {\r\n    return new FirebaseStorageError(Code.NO_DEFAULT_BUCKET, 'No default bucket ' + \"found. Did you set the '\" + _constants.configOption + \"' property when initializing the app?\");\r\n}\r\nfunction cannotSliceBlob() {\r\n    return new FirebaseStorageError(Code.CANNOT_SLICE_BLOB, 'Cannot slice blob for upload. Please retry the upload.');\r\n}\r\nfunction serverFileWrongSize() {\r\n    return new FirebaseStorageError(Code.SERVER_FILE_WRONG_SIZE, 'Server recorded incorrect upload file size, please retry the upload.');\r\n}\r\nfunction noDownloadURL() {\r\n    return new FirebaseStorageError(Code.NO_DOWNLOAD_URL, 'The given file does not have any download URLs.');\r\n}\r\nfunction invalidArgument(index, fnName, message) {\r\n    return new FirebaseStorageError(Code.INVALID_ARGUMENT, 'Invalid argument in `' + fnName + '` at index ' + index + ': ' + message);\r\n}\r\nfunction invalidArgumentCount(argMin, argMax, fnName, real) {\r\n    var countPart;\r\n    var plural;\r\n    if (argMin === argMax) {\r\n        countPart = argMin;\r\n        plural = argMin === 1 ? 'argument' : 'arguments';\r\n    } else {\r\n        countPart = 'between ' + argMin + ' and ' + argMax;\r\n        plural = 'arguments';\r\n    }\r\n    return new FirebaseStorageError(Code.INVALID_ARGUMENT_COUNT, 'Invalid argument count in `' + fnName + '`: Expected ' + countPart + ' ' + plural + ', received ' + real + '.');\r\n}\r\nfunction appDeleted() {\r\n    return new FirebaseStorageError(Code.APP_DELETED, 'The Firebase app was deleted.');\r\n}\r\n/**\r\n * @param name The name of the operation that was invalid.\r\n */\r\nfunction invalidRootOperation(name) {\r\n    return new FirebaseStorageError(Code.INVALID_ROOT_OPERATION, \"The operation '\" + name + \"' cannot be performed on a root reference, create a non-root \" + \"reference using child, such as .child('file.png').\");\r\n}\r\n/**\r\n * @param format The format that was not valid.\r\n * @param message A message describing the format violation.\r\n */\r\nfunction invalidFormat(format, message) {\r\n    return new FirebaseStorageError(Code.INVALID_FORMAT, \"String does not match format '\" + format + \"': \" + message);\r\n}\r\n/**\r\n * @param message A message describing the internal error.\r\n */\r\nfunction internalError(message) {\r\n    throw new FirebaseStorageError(Code.INTERNAL_ERROR, 'Internal error: ' + message);\r\n}\r\n//# sourceMappingURL=error.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/error.js\n// module id = 475\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.make = make;\r\nexports.resolve = resolve;\r\nexports.reject = reject;\r\n\r\nvar _promise = require('../../utils/promise');\r\n\r\nfunction make(resolver) {\r\n  return new _promise.PromiseImpl(resolver);\r\n}\r\n/**\r\n * @template T\r\n */\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n/**\r\n * @fileoverview Implements the promise abstraction interface for external\r\n * (public SDK) packaging, which just passes through to the firebase-app impl.\r\n */\r\n/**\r\n * @template T\r\n * @param {function((function(T): void),\r\n *                  (function(!Error): void))} resolver\r\n */\r\nfunction resolve(value) {\r\n  return _promise.PromiseImpl.resolve(value);\r\n}\r\nfunction reject(error) {\r\n  return _promise.PromiseImpl.reject(error);\r\n}\r\n//# sourceMappingURL=promise_external.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/promise_external.js\n// module id = 476\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.contains = contains;\r\nexports.forEach = forEach;\r\nexports.clone = clone;\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n/**\r\n * @fileoverview Contains methods for working with objects.\r\n */\r\nfunction contains(obj, prop) {\r\n    return Object.prototype.hasOwnProperty.call(obj, prop);\r\n}\r\nfunction forEach(obj, f) {\r\n    for (var key in obj) {\r\n        if (contains(obj, key)) {\r\n            f(key, obj[key]);\r\n        }\r\n    }\r\n}\r\nfunction clone(obj) {\r\n    if (obj == null) {\r\n        return {};\r\n    }\r\n    var c = {};\r\n    forEach(obj, function (key, val) {\r\n        c[key] = val;\r\n    });\r\n    return c;\r\n}\r\n//# sourceMappingURL=object.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/object.js\n// module id = 477\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.setDomainBase = setDomainBase;\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n/**\r\n * @fileoverview Constants used in the Firebase Storage library.\r\n */\r\n/**\r\n * Domain and scheme for API calls.\r\n */\r\nvar domainBase = exports.domainBase = 'https://firebasestorage.googleapis.com';\r\n/**\r\n * Domain and scheme for object downloads.\r\n */\r\nvar downloadBase = exports.downloadBase = 'https://firebasestorage.googleapis.com';\r\n/**\r\n * Base URL for non-upload calls to the API.\r\n */\r\nvar apiBaseUrl = exports.apiBaseUrl = '/v0';\r\n/**\r\n * Base URL for upload calls to the API.\r\n */\r\nvar apiUploadBaseUrl = exports.apiUploadBaseUrl = '/v0';\r\nfunction setDomainBase(domainBase) {\r\n  domainBase = domainBase;\r\n}\r\nvar configOption = exports.configOption = 'storageBucket';\r\n/**\r\n * 1 minute\r\n */\r\nvar shortMaxOperationRetryTime = exports.shortMaxOperationRetryTime = 1 * 60 * 1000;\r\n/**\r\n * 2 minutes\r\n */\r\nvar defaultMaxOperationRetryTime = exports.defaultMaxOperationRetryTime = 2 * 60 * 1000;\r\n/**\r\n * 10 minutes\r\n */\r\nvar defaultMaxUploadRetryTime = exports.defaultMaxUploadRetryTime = 10 * 60 * 100;\r\n/**\r\n * This is the value of Number.MIN_SAFE_INTEGER, which is not well supported\r\n * enough for us to use it directly.\r\n */\r\nvar minSafeInteger = exports.minSafeInteger = -9007199254740991;\r\n//# sourceMappingURL=constants.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/constants.js\n// module id = 483\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.Location = undefined;\r\n\r\nvar _error = require('./error');\r\n\r\nvar errorsExports = _interopRequireWildcard(_error);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\n/**\r\n * @struct\r\n */\r\nvar Location = function () {\r\n    function Location(bucket, path) {\r\n        this.bucket = bucket;\r\n        this.path_ = path;\r\n    }\r\n    Object.defineProperty(Location.prototype, \"path\", {\r\n        get: function get() {\r\n            return this.path_;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Location.prototype.fullServerUrl = function () {\r\n        var encode = encodeURIComponent;\r\n        return '/b/' + encode(this.bucket) + '/o/' + encode(this.path);\r\n    };\r\n    Location.prototype.bucketOnlyServerUrl = function () {\r\n        var encode = encodeURIComponent;\r\n        return '/b/' + encode(this.bucket) + '/o';\r\n    };\r\n    Location.makeFromBucketSpec = function (bucketString) {\r\n        var bucketLocation;\r\n        try {\r\n            bucketLocation = Location.makeFromUrl(bucketString);\r\n        } catch (e) {\r\n            // Not valid URL, use as-is. This lets you put bare bucket names in\r\n            // config.\r\n            return new Location(bucketString, '');\r\n        }\r\n        if (bucketLocation.path === '') {\r\n            return bucketLocation;\r\n        } else {\r\n            throw errorsExports.invalidDefaultBucket(bucketString);\r\n        }\r\n    };\r\n    Location.makeFromUrl = function (url) {\r\n        var location = null;\r\n        var bucketDomain = '([A-Za-z0-9.\\\\-]+)';\r\n        function gsModify(loc) {\r\n            if (loc.path.charAt(loc.path.length - 1) === '/') {\r\n                loc.path_ = loc.path_.slice(0, -1);\r\n            }\r\n        }\r\n        var gsPath = '(/(.*))?$';\r\n        var path = '(/([^?#]*).*)?$';\r\n        var gsRegex = new RegExp('^gs://' + bucketDomain + gsPath, 'i');\r\n        var gsIndices = { bucket: 1, path: 3 };\r\n        function httpModify(loc) {\r\n            loc.path_ = decodeURIComponent(loc.path);\r\n        }\r\n        var version = 'v[A-Za-z0-9_]+';\r\n        var httpRegex = new RegExp('^https?://firebasestorage\\\\.googleapis\\\\.com/' + version + '/b/' + bucketDomain + '/o' + path, 'i');\r\n        var httpIndices = { bucket: 1, path: 3 };\r\n        var groups = [{ regex: gsRegex, indices: gsIndices, postModify: gsModify }, { regex: httpRegex, indices: httpIndices, postModify: httpModify }];\r\n        for (var i = 0; i < groups.length; i++) {\r\n            var group = groups[i];\r\n            var captures = group.regex.exec(url);\r\n            if (captures) {\r\n                var bucketValue = captures[group.indices.bucket];\r\n                var pathValue = captures[group.indices.path];\r\n                if (!pathValue) {\r\n                    pathValue = '';\r\n                }\r\n                location = new Location(bucketValue, pathValue);\r\n                group.postModify(location);\r\n                break;\r\n            }\r\n        }\r\n        if (location == null) {\r\n            throw errorsExports.invalidUrl(url);\r\n        }\r\n        return location;\r\n    };\r\n    return Location;\r\n}(); /**\r\n     * Copyright 2017 Google Inc.\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     *\r\n     *   http://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     */\r\n/**\r\n * @fileoverview Functionality related to the parsing/composition of bucket/\r\n * object location.\r\n */\r\nexports.Location = Location;\r\n//# sourceMappingURL=location.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/location.js\n// module id = 484\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nvar CODES = {\r\n    AVAILABLE_IN_WINDOW: 'only-available-in-window',\r\n    AVAILABLE_IN_SW: 'only-available-in-sw',\r\n    SHOULD_BE_INHERITED: 'should-be-overriden',\r\n    BAD_SENDER_ID: 'bad-sender-id',\r\n    INCORRECT_GCM_SENDER_ID: 'incorrect-gcm-sender-id',\r\n    PERMISSION_DEFAULT: 'permission-default',\r\n    PERMISSION_BLOCKED: 'permission-blocked',\r\n    UNSUPPORTED_BROWSER: 'unsupported-browser',\r\n    NOTIFICATIONS_BLOCKED: 'notifications-blocked',\r\n    FAILED_DEFAULT_REGISTRATION: 'failed-serviceworker-registration',\r\n    SW_REGISTRATION_EXPECTED: 'sw-registration-expected',\r\n    GET_SUBSCRIPTION_FAILED: 'get-subscription-failed',\r\n    INVALID_SAVED_TOKEN: 'invalid-saved-token',\r\n    SW_REG_REDUNDANT: 'sw-reg-redundant',\r\n    TOKEN_SUBSCRIBE_FAILED: 'token-subscribe-failed',\r\n    TOKEN_SUBSCRIBE_NO_TOKEN: 'token-subscribe-no-token',\r\n    TOKEN_SUBSCRIBE_NO_PUSH_SET: 'token-subscribe-no-push-set',\r\n    USE_SW_BEFORE_GET_TOKEN: 'use-sw-before-get-token',\r\n    INVALID_DELETE_TOKEN: 'invalid-delete-token',\r\n    DELETE_TOKEN_NOT_FOUND: 'delete-token-not-found',\r\n    DELETE_SCOPE_NOT_FOUND: 'delete-scope-not-found',\r\n    BG_HANDLER_FUNCTION_EXPECTED: 'bg-handler-function-expected',\r\n    NO_WINDOW_CLIENT_TO_MSG: 'no-window-client-to-msg',\r\n    UNABLE_TO_RESUBSCRIBE: 'unable-to-resubscribe',\r\n    NO_FCM_TOKEN_FOR_RESUBSCRIBE: 'no-fcm-token-for-resubscribe',\r\n    FAILED_TO_DELETE_TOKEN: 'failed-to-delete-token',\r\n    NO_SW_IN_REG: 'no-sw-in-reg',\r\n    BAD_SCOPE: 'bad-scope',\r\n    BAD_VAPID_KEY: 'bad-vapid-key',\r\n    BAD_SUBSCRIPTION: 'bad-subscription',\r\n    BAD_TOKEN: 'bad-token',\r\n    BAD_PUSH_SET: 'bad-push-set',\r\n    FAILED_DELETE_VAPID_KEY: 'failed-delete-vapid-key'\r\n};\r\nvar ERROR_MAP = (_a = {}, _a[CODES.AVAILABLE_IN_WINDOW] = 'This method is available in a Window context.', _a[CODES.AVAILABLE_IN_SW] = 'This method is available in a service worker ' + 'context.', _a[CODES.SHOULD_BE_INHERITED] = 'This method should be overriden by ' + 'extended classes.', _a[CODES.BAD_SENDER_ID] = \"Please ensure that 'messagingSenderId' is set \" + 'correctly in the options passed into firebase.initializeApp().', _a[CODES.PERMISSION_DEFAULT] = 'The required permissions were not granted and ' + 'dismissed instead.', _a[CODES.PERMISSION_BLOCKED] = 'The required permissions were not granted and ' + 'blocked instead.', _a[CODES.UNSUPPORTED_BROWSER] = \"This browser doesn't support the API's \" + 'required to use the firebase SDK.', _a[CODES.NOTIFICATIONS_BLOCKED] = 'Notifications have been blocked.', _a[CODES.FAILED_DEFAULT_REGISTRATION] = 'We are unable to register the ' + 'default service worker. {$browserErrorMessage}', _a[CODES.SW_REGISTRATION_EXPECTED] = 'A service worker registration was the ' + 'expected input.', _a[CODES.GET_SUBSCRIPTION_FAILED] = 'There was an error when trying to get ' + 'any existing Push Subscriptions.', _a[CODES.INVALID_SAVED_TOKEN] = 'Unable to access details of the saved token.', _a[CODES.SW_REG_REDUNDANT] = 'The service worker being used for push was made ' + 'redundant.', _a[CODES.TOKEN_SUBSCRIBE_FAILED] = 'A problem occured while subscribing the ' + 'user to FCM: {$message}', _a[CODES.TOKEN_SUBSCRIBE_NO_TOKEN] = 'FCM returned no token when subscribing ' + 'the user to push.', _a[CODES.TOKEN_SUBSCRIBE_NO_PUSH_SET] = 'FCM returned an invalid response ' + 'when getting an FCM token.', _a[CODES.USE_SW_BEFORE_GET_TOKEN] = 'You must call useServiceWorker() before ' + 'calling getToken() to ensure your service worker is used.', _a[CODES.INVALID_DELETE_TOKEN] = 'You must pass a valid token into ' + 'deleteToken(), i.e. the token from getToken().', _a[CODES.DELETE_TOKEN_NOT_FOUND] = 'The deletion attempt for token could not ' + 'be performed as the token was not found.', _a[CODES.DELETE_SCOPE_NOT_FOUND] = 'The deletion attempt for service worker ' + 'scope could not be performed as the scope was not found.', _a[CODES.BG_HANDLER_FUNCTION_EXPECTED] = 'The input to ' + 'setBackgroundMessageHandler() must be a function.', _a[CODES.NO_WINDOW_CLIENT_TO_MSG] = 'An attempt was made to message a ' + 'non-existant window client.', _a[CODES.UNABLE_TO_RESUBSCRIBE] = 'There was an error while re-subscribing ' + 'the FCM token for push messaging. Will have to resubscribe the ' + 'user on next visit. {$message}', _a[CODES.NO_FCM_TOKEN_FOR_RESUBSCRIBE] = 'Could not find an FCM token ' + 'and as a result, unable to resubscribe. Will have to resubscribe the ' + 'user on next visit.', _a[CODES.FAILED_TO_DELETE_TOKEN] = 'Unable to delete the currently saved token.', _a[CODES.NO_SW_IN_REG] = 'Even though the service worker registration was ' + 'successful, there was a problem accessing the service worker itself.', _a[CODES.INCORRECT_GCM_SENDER_ID] = \"Please change your web app manifest's \" + \"'gcm_sender_id' value to '103953800507' to use Firebase messaging.\", _a[CODES.BAD_SCOPE] = 'The service worker scope must be a string with at ' + 'least one character.', _a[CODES.BAD_VAPID_KEY] = 'The public VAPID key must be a string with at ' + 'least one character.', _a[CODES.BAD_SUBSCRIPTION] = 'The subscription must be a valid ' + 'PushSubscription.', _a[CODES.BAD_TOKEN] = 'The FCM Token used for storage / lookup was not ' + 'a valid token string.', _a[CODES.BAD_PUSH_SET] = 'The FCM push set used for storage / lookup was not ' + 'not a valid push set string.', _a[CODES.FAILED_DELETE_VAPID_KEY] = 'The VAPID key could not be deleted.', _a);\r\nexports.default = {\r\n    codes: CODES,\r\n    map: ERROR_MAP\r\n};\r\n\r\nvar _a;\r\nmodule.exports = exports['default'];\r\n//# sourceMappingURL=errors.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/messaging/models/errors.js\n// module id = 485\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.StringData = exports.StringFormat = undefined;\r\nexports.formatValidator = formatValidator;\r\nexports.dataFromString = dataFromString;\r\nexports.utf8Bytes_ = utf8Bytes_;\r\nexports.percentEncodedBytes_ = percentEncodedBytes_;\r\nexports.base64Bytes_ = base64Bytes_;\r\nexports.dataURLBytes_ = dataURLBytes_;\r\nexports.dataURLContentType_ = dataURLContentType_;\r\n\r\nvar _error = require('./error');\r\n\r\nvar errorsExports = _interopRequireWildcard(_error);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\nvar StringFormat = exports.StringFormat = {\r\n    RAW: 'raw',\r\n    BASE64: 'base64',\r\n    BASE64URL: 'base64url',\r\n    DATA_URL: 'data_url'\r\n}; /**\r\n   * Copyright 2017 Google Inc.\r\n   *\r\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n   * you may not use this file except in compliance with the License.\r\n   * You may obtain a copy of the License at\r\n   *\r\n   *   http://www.apache.org/licenses/LICENSE-2.0\r\n   *\r\n   * Unless required by applicable law or agreed to in writing, software\r\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n   * See the License for the specific language governing permissions and\r\n   * limitations under the License.\r\n   */\r\nfunction formatValidator(stringFormat) {\r\n    switch (stringFormat) {\r\n        case StringFormat.RAW:\r\n        case StringFormat.BASE64:\r\n        case StringFormat.BASE64URL:\r\n        case StringFormat.DATA_URL:\r\n            return;\r\n        default:\r\n            throw 'Expected one of the event types: [' + StringFormat.RAW + ', ' + StringFormat.BASE64 + ', ' + StringFormat.BASE64URL + ', ' + StringFormat.DATA_URL + '].';\r\n    }\r\n}\r\n/**\r\n * @struct\r\n */\r\nvar StringData = function () {\r\n    function StringData(data, opt_contentType) {\r\n        this.data = data;\r\n        this.contentType = opt_contentType || null;\r\n    }\r\n    return StringData;\r\n}();\r\nexports.StringData = StringData;\r\nfunction dataFromString(format, string) {\r\n    switch (format) {\r\n        case StringFormat.RAW:\r\n            return new StringData(utf8Bytes_(string));\r\n        case StringFormat.BASE64:\r\n        case StringFormat.BASE64URL:\r\n            return new StringData(base64Bytes_(format, string));\r\n        case StringFormat.DATA_URL:\r\n            return new StringData(dataURLBytes_(string), dataURLContentType_(string));\r\n    }\r\n    // assert(false);\r\n    throw errorsExports.unknown();\r\n}\r\nfunction utf8Bytes_(string) {\r\n    var b = [];\r\n    for (var i = 0; i < string.length; i++) {\r\n        var c = string.charCodeAt(i);\r\n        if (c <= 127) {\r\n            b.push(c);\r\n        } else {\r\n            if (c <= 2047) {\r\n                b.push(192 | c >> 6, 128 | c & 63);\r\n            } else {\r\n                if ((c & 64512) == 55296) {\r\n                    // The start of a surrogate pair.\r\n                    var valid = i < string.length - 1 && (string.charCodeAt(i + 1) & 64512) == 56320;\r\n                    if (!valid) {\r\n                        // The second surrogate wasn't there.\r\n                        b.push(239, 191, 189);\r\n                    } else {\r\n                        var hi = c;\r\n                        var lo = string.charCodeAt(++i);\r\n                        c = 65536 | (hi & 1023) << 10 | lo & 1023;\r\n                        b.push(240 | c >> 18, 128 | c >> 12 & 63, 128 | c >> 6 & 63, 128 | c & 63);\r\n                    }\r\n                } else {\r\n                    if ((c & 64512) == 56320) {\r\n                        // Invalid low surrogate.\r\n                        b.push(239, 191, 189);\r\n                    } else {\r\n                        b.push(224 | c >> 12, 128 | c >> 6 & 63, 128 | c & 63);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return new Uint8Array(b);\r\n}\r\nfunction percentEncodedBytes_(string) {\r\n    var decoded;\r\n    try {\r\n        decoded = decodeURIComponent(string);\r\n    } catch (e) {\r\n        throw errorsExports.invalidFormat(StringFormat.DATA_URL, 'Malformed data URL.');\r\n    }\r\n    return utf8Bytes_(decoded);\r\n}\r\nfunction base64Bytes_(format, string) {\r\n    switch (format) {\r\n        case StringFormat.BASE64:\r\n            {\r\n                var hasMinus = string.indexOf('-') !== -1;\r\n                var hasUnder = string.indexOf('_') !== -1;\r\n                if (hasMinus || hasUnder) {\r\n                    var invalidChar = hasMinus ? '-' : '_';\r\n                    throw errorsExports.invalidFormat(format, \"Invalid character '\" + invalidChar + \"' found: is it base64url encoded?\");\r\n                }\r\n                break;\r\n            }\r\n        case StringFormat.BASE64URL:\r\n            {\r\n                var hasPlus = string.indexOf('+') !== -1;\r\n                var hasSlash = string.indexOf('/') !== -1;\r\n                if (hasPlus || hasSlash) {\r\n                    var invalidChar = hasPlus ? '+' : '/';\r\n                    throw errorsExports.invalidFormat(format, \"Invalid character '\" + invalidChar + \"' found: is it base64 encoded?\");\r\n                }\r\n                string = string.replace(/-/g, '+').replace(/_/g, '/');\r\n                break;\r\n            }\r\n    }\r\n    var bytes;\r\n    try {\r\n        bytes = atob(string);\r\n    } catch (e) {\r\n        throw errorsExports.invalidFormat(format, 'Invalid character found');\r\n    }\r\n    var array = new Uint8Array(bytes.length);\r\n    for (var i = 0; i < bytes.length; i++) {\r\n        array[i] = bytes.charCodeAt(i);\r\n    }\r\n    return array;\r\n}\r\n/**\r\n * @struct\r\n */\r\nvar DataURLParts = function () {\r\n    function DataURLParts(dataURL) {\r\n        this.base64 = false;\r\n        this.contentType = null;\r\n        var matches = dataURL.match(/^data:([^,]+)?,/);\r\n        if (matches === null) {\r\n            throw errorsExports.invalidFormat(StringFormat.DATA_URL, \"Must be formatted 'data:[<mediatype>][;base64],<data>\");\r\n        }\r\n        var middle = matches[1] || null;\r\n        if (middle != null) {\r\n            this.base64 = endsWith(middle, ';base64');\r\n            this.contentType = this.base64 ? middle.substring(0, middle.length - ';base64'.length) : middle;\r\n        }\r\n        this.rest = dataURL.substring(dataURL.indexOf(',') + 1);\r\n    }\r\n    return DataURLParts;\r\n}();\r\nfunction dataURLBytes_(string) {\r\n    var parts = new DataURLParts(string);\r\n    if (parts.base64) {\r\n        return base64Bytes_(StringFormat.BASE64, parts.rest);\r\n    } else {\r\n        return percentEncodedBytes_(parts.rest);\r\n    }\r\n}\r\nfunction dataURLContentType_(string) {\r\n    var parts = new DataURLParts(string);\r\n    return parts.contentType;\r\n}\r\nfunction endsWith(s, end) {\r\n    var longEnough = s.length >= end.length;\r\n    if (!longEnough) {\r\n        return false;\r\n    }\r\n    return s.substring(s.length - end.length) === end;\r\n}\r\n//# sourceMappingURL=string.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/string.js\n// module id = 489\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.ArgSpec = undefined;\r\nexports.validate = validate;\r\nexports.and_ = and_;\r\nexports.stringSpec = stringSpec;\r\nexports.uploadDataSpec = uploadDataSpec;\r\nexports.metadataSpec = metadataSpec;\r\nexports.nonNegativeNumberSpec = nonNegativeNumberSpec;\r\nexports.looseObjectSpec = looseObjectSpec;\r\nexports.nullFunctionSpec = nullFunctionSpec;\r\n\r\nvar _error = require('./error');\r\n\r\nvar errorsExports = _interopRequireWildcard(_error);\r\n\r\nvar _metadata = require('./metadata');\r\n\r\nvar MetadataUtils = _interopRequireWildcard(_metadata);\r\n\r\nvar _type = require('./type');\r\n\r\nvar type = _interopRequireWildcard(_type);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\n/**\r\n * @param name Name of the function.\r\n * @param specs Argument specs.\r\n * @param passed The actual arguments passed to the function.\r\n * @throws {fbs.Error} If the arguments are invalid.\r\n */\r\nfunction validate(name, specs, passed) {\r\n    var minArgs = specs.length;\r\n    var maxArgs = specs.length;\r\n    for (var i = 0; i < specs.length; i++) {\r\n        if (specs[i].optional) {\r\n            minArgs = i;\r\n            break;\r\n        }\r\n    }\r\n    var validLength = minArgs <= passed.length && passed.length <= maxArgs;\r\n    if (!validLength) {\r\n        throw errorsExports.invalidArgumentCount(minArgs, maxArgs, name, passed.length);\r\n    }\r\n    for (var i = 0; i < passed.length; i++) {\r\n        try {\r\n            specs[i].validator(passed[i]);\r\n        } catch (e) {\r\n            if (e instanceof Error) {\r\n                throw errorsExports.invalidArgument(i, name, e.message);\r\n            } else {\r\n                throw errorsExports.invalidArgument(i, name, e);\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * @struct\r\n */\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\nvar ArgSpec = function () {\r\n    function ArgSpec(validator, opt_optional) {\r\n        var self = this;\r\n        this.validator = function (p) {\r\n            if (self.optional && !type.isJustDef(p)) {\r\n                return;\r\n            }\r\n            validator(p);\r\n        };\r\n        this.optional = !!opt_optional;\r\n    }\r\n    return ArgSpec;\r\n}();\r\nexports.ArgSpec = ArgSpec;\r\nfunction and_(v1, v2) {\r\n    return function (p) {\r\n        v1(p);\r\n        v2(p);\r\n    };\r\n}\r\nfunction stringSpec(opt_validator, opt_optional) {\r\n    function stringValidator(p) {\r\n        if (!type.isString(p)) {\r\n            throw 'Expected string.';\r\n        }\r\n    }\r\n    var validator;\r\n    if (opt_validator) {\r\n        validator = and_(stringValidator, opt_validator);\r\n    } else {\r\n        validator = stringValidator;\r\n    }\r\n    return new ArgSpec(validator, opt_optional);\r\n}\r\nfunction uploadDataSpec() {\r\n    function validator(p) {\r\n        var valid = p instanceof Uint8Array || p instanceof ArrayBuffer || type.isNativeBlobDefined() && p instanceof Blob;\r\n        if (!valid) {\r\n            throw 'Expected Blob or File.';\r\n        }\r\n    }\r\n    return new ArgSpec(validator);\r\n}\r\nfunction metadataSpec(opt_optional) {\r\n    return new ArgSpec(MetadataUtils.metadataValidator, opt_optional);\r\n}\r\nfunction nonNegativeNumberSpec() {\r\n    function validator(p) {\r\n        var valid = type.isNumber(p) && p >= 0;\r\n        if (!valid) {\r\n            throw 'Expected a number 0 or greater.';\r\n        }\r\n    }\r\n    return new ArgSpec(validator);\r\n}\r\nfunction looseObjectSpec(opt_validator, opt_optional) {\r\n    function validator(p) {\r\n        var isLooseObject = p === null || type.isDef(p) && p instanceof Object;\r\n        if (!isLooseObject) {\r\n            throw 'Expected an Object.';\r\n        }\r\n        if (opt_validator !== undefined && opt_validator !== null) {\r\n            opt_validator(p);\r\n        }\r\n    }\r\n    return new ArgSpec(validator, opt_optional);\r\n}\r\nfunction nullFunctionSpec(opt_optional) {\r\n    function validator(p) {\r\n        var valid = p === null || type.isFunction(p);\r\n        if (!valid) {\r\n            throw 'Expected a Function.';\r\n        }\r\n    }\r\n    return new ArgSpec(validator, opt_optional);\r\n}\r\n//# sourceMappingURL=args.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/args.js\n// module id = 490\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.Mapping = undefined;\r\nexports.noXform_ = noXform_;\r\nexports.xformPath = xformPath;\r\nexports.getMappings = getMappings;\r\nexports.addRef = addRef;\r\nexports.fromResource = fromResource;\r\nexports.fromResourceString = fromResourceString;\r\nexports.toResourceString = toResourceString;\r\nexports.metadataValidator = metadataValidator;\r\n\r\nvar _json = require('./json');\r\n\r\nvar json = _interopRequireWildcard(_json);\r\n\r\nvar _location = require('./location');\r\n\r\nvar _path = require('./path');\r\n\r\nvar path = _interopRequireWildcard(_path);\r\n\r\nvar _type = require('./type');\r\n\r\nvar type = _interopRequireWildcard(_type);\r\n\r\nvar _url = require('./url');\r\n\r\nvar UrlUtils = _interopRequireWildcard(_url);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\nfunction noXform_(metadata, value) {\r\n    return value;\r\n}\r\n/**\r\n * @struct\r\n */\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\nvar Mapping = function () {\r\n    function Mapping(server, opt_local, opt_writable, opt_xform) {\r\n        this.server = server;\r\n        this.local = opt_local || server;\r\n        this.writable = !!opt_writable;\r\n        this.xform = opt_xform || noXform_;\r\n    }\r\n    return Mapping;\r\n}();\r\nexports.Mapping = Mapping;\r\n\r\nvar mappings_ = null;\r\nfunction xformPath(fullPath) {\r\n    var valid = type.isString(fullPath);\r\n    if (!valid || fullPath.length < 2) {\r\n        return fullPath;\r\n    } else {\r\n        fullPath = fullPath;\r\n        return path.lastComponent(fullPath);\r\n    }\r\n}\r\nfunction getMappings() {\r\n    if (mappings_) {\r\n        return mappings_;\r\n    }\r\n    var mappings = [];\r\n    mappings.push(new Mapping('bucket'));\r\n    mappings.push(new Mapping('generation'));\r\n    mappings.push(new Mapping('metageneration'));\r\n    mappings.push(new Mapping('name', 'fullPath', true));\r\n    function mappingsXformPath(metadata, fullPath) {\r\n        return xformPath(fullPath);\r\n    }\r\n    var nameMapping = new Mapping('name');\r\n    nameMapping.xform = mappingsXformPath;\r\n    mappings.push(nameMapping);\r\n    /**\r\n     * Coerces the second param to a number, if it is defined.\r\n     */\r\n    function xformSize(metadata, size) {\r\n        if (type.isDef(size)) {\r\n            return +size;\r\n        } else {\r\n            return size;\r\n        }\r\n    }\r\n    var sizeMapping = new Mapping('size');\r\n    sizeMapping.xform = xformSize;\r\n    mappings.push(sizeMapping);\r\n    mappings.push(new Mapping('timeCreated'));\r\n    mappings.push(new Mapping('updated'));\r\n    mappings.push(new Mapping('md5Hash', null, true));\r\n    mappings.push(new Mapping('cacheControl', null, true));\r\n    mappings.push(new Mapping('contentDisposition', null, true));\r\n    mappings.push(new Mapping('contentEncoding', null, true));\r\n    mappings.push(new Mapping('contentLanguage', null, true));\r\n    mappings.push(new Mapping('contentType', null, true));\r\n    mappings.push(new Mapping('metadata', 'customMetadata', true));\r\n    /**\r\n     * Transforms a comma-separated string of tokens into a list of download\r\n     * URLs.\r\n     */\r\n    function xformTokens(metadata, tokens) {\r\n        var valid = type.isString(tokens) && tokens.length > 0;\r\n        if (!valid) {\r\n            // This can happen if objects are uploaded through GCS and retrieved\r\n            // through list, so we don't want to throw an Error.\r\n            return [];\r\n        }\r\n        var encode = encodeURIComponent;\r\n        var tokensList = tokens.split(',');\r\n        var urls = tokensList.map(function (token) {\r\n            var bucket = metadata['bucket'];\r\n            var path = metadata['fullPath'];\r\n            var urlPart = '/b/' + encode(bucket) + '/o/' + encode(path);\r\n            var base = UrlUtils.makeDownloadUrl(urlPart);\r\n            var queryString = UrlUtils.makeQueryString({\r\n                alt: 'media',\r\n                token: token\r\n            });\r\n            return base + queryString;\r\n        });\r\n        return urls;\r\n    }\r\n    mappings.push(new Mapping('downloadTokens', 'downloadURLs', false, xformTokens));\r\n    mappings_ = mappings;\r\n    return mappings_;\r\n}\r\nfunction addRef(metadata, authWrapper) {\r\n    function generateRef() {\r\n        var bucket = metadata['bucket'];\r\n        var path = metadata['fullPath'];\r\n        var loc = new _location.Location(bucket, path);\r\n        return authWrapper.makeStorageReference(loc);\r\n    }\r\n    Object.defineProperty(metadata, 'ref', { get: generateRef });\r\n}\r\nfunction fromResource(authWrapper, resource, mappings) {\r\n    var metadata = {};\r\n    metadata['type'] = 'file';\r\n    var len = mappings.length;\r\n    for (var i = 0; i < len; i++) {\r\n        var mapping = mappings[i];\r\n        metadata[mapping.local] = mapping.xform(metadata, resource[mapping.server]);\r\n    }\r\n    addRef(metadata, authWrapper);\r\n    return metadata;\r\n}\r\nfunction fromResourceString(authWrapper, resourceString, mappings) {\r\n    var obj = json.jsonObjectOrNull(resourceString);\r\n    if (obj === null) {\r\n        return null;\r\n    }\r\n    var resource = obj;\r\n    return fromResource(authWrapper, resource, mappings);\r\n}\r\nfunction toResourceString(metadata, mappings) {\r\n    var resource = {};\r\n    var len = mappings.length;\r\n    for (var i = 0; i < len; i++) {\r\n        var mapping = mappings[i];\r\n        if (mapping.writable) {\r\n            resource[mapping.server] = metadata[mapping.local];\r\n        }\r\n    }\r\n    return JSON.stringify(resource);\r\n}\r\nfunction metadataValidator(p) {\r\n    var validType = p && type.isObject(p);\r\n    if (!validType) {\r\n        throw 'Expected Metadata object.';\r\n    }\r\n    for (var key in p) {\r\n        var val = p[key];\r\n        if (key === 'customMetadata') {\r\n            if (!type.isObject(val)) {\r\n                throw 'Expected object for \\'customMetadata\\' mapping.';\r\n            }\r\n        } else {\r\n            if (type.isNonNullObject(val)) {\r\n                throw \"Mapping for '\" + key + \"' cannot be an object.\";\r\n            }\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=metadata.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/metadata.js\n// module id = 491\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.makeNormalUrl = makeNormalUrl;\r\nexports.makeDownloadUrl = makeDownloadUrl;\r\nexports.makeUploadUrl = makeUploadUrl;\r\nexports.makeQueryString = makeQueryString;\r\n\r\nvar _constants = require('./constants');\r\n\r\nvar constants = _interopRequireWildcard(_constants);\r\n\r\nvar _object = require('./object');\r\n\r\nvar object = _interopRequireWildcard(_object);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n/**\r\n * @fileoverview Functions to create and manipulate URLs for the server API.\r\n */\r\nfunction makeNormalUrl(urlPart) {\r\n    return constants.domainBase + constants.apiBaseUrl + urlPart;\r\n}\r\nfunction makeDownloadUrl(urlPart) {\r\n    return constants.downloadBase + constants.apiBaseUrl + urlPart;\r\n}\r\nfunction makeUploadUrl(urlPart) {\r\n    return constants.domainBase + constants.apiUploadBaseUrl + urlPart;\r\n}\r\nfunction makeQueryString(params) {\r\n    var encode = encodeURIComponent;\r\n    var queryPart = '?';\r\n    object.forEach(params, function (key, val) {\r\n        var nextPart = encode(key) + '=' + encode(val);\r\n        queryPart = queryPart + nextPart + '&';\r\n    });\r\n    // Chop off the extra '&' or '?' on the end\r\n    queryPart = queryPart.slice(0, -1);\r\n    return queryPart;\r\n}\r\n//# sourceMappingURL=url.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/url.js\n// module id = 492\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.contains = contains;\r\nexports.clone = clone;\r\nexports.remove = remove;\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n/**\r\n * Returns true if the object is contained in the array (compared with ===).\r\n * @template T\r\n */\r\nfunction contains(array, elem) {\r\n    return array.indexOf(elem) !== -1;\r\n}\r\n/**\r\n * Returns a shallow copy of the array or array-like object (e.g. arguments).\r\n * @template T\r\n */\r\nfunction clone(arraylike) {\r\n    return Array.prototype.slice.call(arraylike);\r\n}\r\n/**\r\n * Removes the given element from the given array, if it is contained.\r\n * Directly modifies the passed-in array.\r\n * @template T\r\n */\r\nfunction remove(array, elem) {\r\n    var i = array.indexOf(elem);\r\n    if (i !== -1) {\r\n        array.splice(i, 1);\r\n    }\r\n}\r\n//# sourceMappingURL=array.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/array.js\n// module id = 493\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.taskStateFromInternalTaskState = taskStateFromInternalTaskState;\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\nvar TaskEvent = exports.TaskEvent = {\r\n    /** Triggered whenever the task changes or progress is updated. */\r\n    STATE_CHANGED: 'state_changed'\r\n};\r\nvar InternalTaskState = exports.InternalTaskState = {\r\n    RUNNING: 'running',\r\n    PAUSING: 'pausing',\r\n    PAUSED: 'paused',\r\n    SUCCESS: 'success',\r\n    CANCELING: 'canceling',\r\n    CANCELED: 'canceled',\r\n    ERROR: 'error'\r\n};\r\nvar TaskState = exports.TaskState = {\r\n    /** The task is currently transferring data. */\r\n    RUNNING: 'running',\r\n    /** The task was paused by the user. */\r\n    PAUSED: 'paused',\r\n    /** The task completed successfully. */\r\n    SUCCESS: 'success',\r\n    /** The task was canceled. */\r\n    CANCELED: 'canceled',\r\n    /** The task failed with an error. */\r\n    ERROR: 'error'\r\n};\r\nfunction taskStateFromInternalTaskState(state) {\r\n    switch (state) {\r\n        case InternalTaskState.RUNNING:\r\n        case InternalTaskState.PAUSING:\r\n        case InternalTaskState.CANCELING:\r\n            return TaskState.RUNNING;\r\n        case InternalTaskState.PAUSED:\r\n            return TaskState.PAUSED;\r\n        case InternalTaskState.SUCCESS:\r\n            return TaskState.SUCCESS;\r\n        case InternalTaskState.CANCELED:\r\n            return TaskState.CANCELED;\r\n        case InternalTaskState.ERROR:\r\n            return TaskState.ERROR;\r\n        default:\r\n            // TODO(andysoto): assert(false);\r\n            return TaskState.ERROR;\r\n    }\r\n}\r\n//# sourceMappingURL=taskenums.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/taskenums.js\n// module id = 505\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n/**\r\n * @enum{number}\r\n */\r\nvar ErrorCode = exports.ErrorCode = undefined;\r\n(function (ErrorCode) {\r\n    ErrorCode[ErrorCode[\"NO_ERROR\"] = 0] = \"NO_ERROR\";\r\n    ErrorCode[ErrorCode[\"NETWORK_ERROR\"] = 1] = \"NETWORK_ERROR\";\r\n    ErrorCode[ErrorCode[\"ABORT\"] = 2] = \"ABORT\";\r\n})(ErrorCode || (exports.ErrorCode = ErrorCode = {}));\r\n//# sourceMappingURL=xhrio.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/xhrio.js\n// module id = 506\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.Reference = undefined;\r\n\r\nvar _args = require('./implementation/args');\r\n\r\nvar args = _interopRequireWildcard(_args);\r\n\r\nvar _blob = require('./implementation/blob');\r\n\r\nvar _error = require('./implementation/error');\r\n\r\nvar errorsExports = _interopRequireWildcard(_error);\r\n\r\nvar _location = require('./implementation/location');\r\n\r\nvar _metadata = require('./implementation/metadata');\r\n\r\nvar metadata = _interopRequireWildcard(_metadata);\r\n\r\nvar _object = require('./implementation/object');\r\n\r\nvar object = _interopRequireWildcard(_object);\r\n\r\nvar _path = require('./implementation/path');\r\n\r\nvar path = _interopRequireWildcard(_path);\r\n\r\nvar _requests = require('./implementation/requests');\r\n\r\nvar requests = _interopRequireWildcard(_requests);\r\n\r\nvar _string = require('./implementation/string');\r\n\r\nvar fbsString = _interopRequireWildcard(_string);\r\n\r\nvar _type = require('./implementation/type');\r\n\r\nvar type = _interopRequireWildcard(_type);\r\n\r\nvar _task = require('./task');\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\n/**\r\n * Provides methods to interact with a bucket in the Firebase Storage service.\r\n * @param location An fbs.location, or the URL at\r\n *     which to base this object, in one of the following forms:\r\n *         gs://<bucket>/<object-path>\r\n *         http[s]://firebasestorage.googleapis.com/\r\n *                     <api-version>/b/<bucket>/o/<object-path>\r\n *     Any query or fragment strings will be ignored in the http[s]\r\n *     format. If no value is passed, the storage object will use a URL based on\r\n *     the project ID of the base firebase.App instance.\r\n */\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n/**\r\n * @fileoverview Defines the Firebase Storage Reference class.\r\n */\r\nvar Reference = function () {\r\n    function Reference(authWrapper, location) {\r\n        this.authWrapper = authWrapper;\r\n        if (location instanceof _location.Location) {\r\n            this.location = location;\r\n        } else {\r\n            this.location = _location.Location.makeFromUrl(location);\r\n        }\r\n    }\r\n    /**\r\n     * @return The URL for the bucket and path this object references,\r\n     *     in the form gs://<bucket>/<object-path>\r\n     * @override\r\n     */\r\n    Reference.prototype.toString = function () {\r\n        args.validate('toString', [], arguments);\r\n        return 'gs://' + this.location.bucket + '/' + this.location.path;\r\n    };\r\n    Reference.prototype.newRef = function (authWrapper, location) {\r\n        return new Reference(authWrapper, location);\r\n    };\r\n    Reference.prototype.mappings = function () {\r\n        return metadata.getMappings();\r\n    };\r\n    /**\r\n     * @return A reference to the object obtained by\r\n     *     appending childPath, removing any duplicate, beginning, or trailing\r\n     *     slashes.\r\n     */\r\n    Reference.prototype.child = function (childPath) {\r\n        args.validate('child', [args.stringSpec()], arguments);\r\n        var newPath = path.child(this.location.path, childPath);\r\n        var location = new _location.Location(this.location.bucket, newPath);\r\n        return this.newRef(this.authWrapper, location);\r\n    };\r\n    Object.defineProperty(Reference.prototype, \"parent\", {\r\n        /**\r\n         * @return A reference to the parent of the\r\n         *     current object, or null if the current object is the root.\r\n         */\r\n        get: function get() {\r\n            var newPath = path.parent(this.location.path);\r\n            if (newPath === null) {\r\n                return null;\r\n            }\r\n            var location = new _location.Location(this.location.bucket, newPath);\r\n            return this.newRef(this.authWrapper, location);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Reference.prototype, \"root\", {\r\n        /**\r\n         * @return An reference to the root of this\r\n         *     object's bucket.\r\n         */\r\n        get: function get() {\r\n            var location = new _location.Location(this.location.bucket, '');\r\n            return this.newRef(this.authWrapper, location);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Reference.prototype, \"bucket\", {\r\n        get: function get() {\r\n            return this.location.bucket;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Reference.prototype, \"fullPath\", {\r\n        get: function get() {\r\n            return this.location.path;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Reference.prototype, \"name\", {\r\n        get: function get() {\r\n            return path.lastComponent(this.location.path);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Reference.prototype, \"storage\", {\r\n        get: function get() {\r\n            return this.authWrapper.service();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Uploads a blob to this object's location.\r\n     * @param data The blob to upload.\r\n     * @return An UploadTask that lets you control and\r\n     *     observe the upload.\r\n     */\r\n    Reference.prototype.put = function (data, metadata) {\r\n        if (metadata === void 0) {\r\n            metadata = null;\r\n        }\r\n        args.validate('put', [args.uploadDataSpec(), args.metadataSpec(true)], arguments);\r\n        this.throwIfRoot_('put');\r\n        return new _task.UploadTask(this, this.authWrapper, this.location, this.mappings(), new _blob.FbsBlob(data), metadata);\r\n    };\r\n    /**\r\n     * Uploads a string to this object's location.\r\n     * @param string The string to upload.\r\n     * @param opt_format The format of the string to upload.\r\n     * @return An UploadTask that lets you control and\r\n     *     observe the upload.\r\n     */\r\n    Reference.prototype.putString = function (string, format, opt_metadata) {\r\n        if (format === void 0) {\r\n            format = _string.StringFormat.RAW;\r\n        }\r\n        args.validate('putString', [args.stringSpec(), args.stringSpec(fbsString.formatValidator, true), args.metadataSpec(true)], arguments);\r\n        this.throwIfRoot_('putString');\r\n        var data = fbsString.dataFromString(format, string);\r\n        var metadata = object.clone(opt_metadata);\r\n        if (!type.isDef(metadata['contentType']) && type.isDef(data.contentType)) {\r\n            metadata['contentType'] = data.contentType;\r\n        }\r\n        return new _task.UploadTask(this, this.authWrapper, this.location, this.mappings(), new _blob.FbsBlob(data.data, true), metadata);\r\n    };\r\n    /**\r\n     * Deletes the object at this location.\r\n     * @return A promise that resolves if the deletion succeeds.\r\n     */\r\n    Reference.prototype.delete = function () {\r\n        args.validate('delete', [], arguments);\r\n        this.throwIfRoot_('delete');\r\n        var self = this;\r\n        return this.authWrapper.getAuthToken().then(function (authToken) {\r\n            var requestInfo = requests.deleteObject(self.authWrapper, self.location);\r\n            return self.authWrapper.makeRequest(requestInfo, authToken).getPromise();\r\n        });\r\n    };\r\n    /**\r\n     *     A promise that resolves with the metadata for this object. If this\r\n     *     object doesn't exist or metadata cannot be retreived, the promise is\r\n     *     rejected.\r\n     */\r\n    Reference.prototype.getMetadata = function () {\r\n        args.validate('getMetadata', [], arguments);\r\n        this.throwIfRoot_('getMetadata');\r\n        var self = this;\r\n        return this.authWrapper.getAuthToken().then(function (authToken) {\r\n            var requestInfo = requests.getMetadata(self.authWrapper, self.location, self.mappings());\r\n            return self.authWrapper.makeRequest(requestInfo, authToken).getPromise();\r\n        });\r\n    };\r\n    /**\r\n     * Updates the metadata for this object.\r\n     * @param metadata The new metadata for the object.\r\n     *     Only values that have been explicitly set will be changed. Explicitly\r\n     *     setting a value to null will remove the metadata.\r\n     * @return A promise that resolves\r\n     *     with the new metadata for this object.\r\n     *     @see firebaseStorage.Reference.prototype.getMetadata\r\n     */\r\n    Reference.prototype.updateMetadata = function (metadata) {\r\n        args.validate('updateMetadata', [args.metadataSpec()], arguments);\r\n        this.throwIfRoot_('updateMetadata');\r\n        var self = this;\r\n        return this.authWrapper.getAuthToken().then(function (authToken) {\r\n            var requestInfo = requests.updateMetadata(self.authWrapper, self.location, metadata, self.mappings());\r\n            return self.authWrapper.makeRequest(requestInfo, authToken).getPromise();\r\n        });\r\n    };\r\n    /**\r\n     * @return A promise that resolves with the download\r\n     *     URL for this object.\r\n     */\r\n    Reference.prototype.getDownloadURL = function () {\r\n        args.validate('getDownloadURL', [], arguments);\r\n        this.throwIfRoot_('getDownloadURL');\r\n        return this.getMetadata().then(function (metadata) {\r\n            var url = metadata['downloadURLs'][0];\r\n            if (type.isDef(url)) {\r\n                return url;\r\n            } else {\r\n                throw errorsExports.noDownloadURL();\r\n            }\r\n        });\r\n    };\r\n    Reference.prototype.throwIfRoot_ = function (name) {\r\n        if (this.location.path === '') {\r\n            throw errorsExports.invalidRootOperation(name);\r\n        }\r\n    };\r\n    return Reference;\r\n}();\r\nexports.Reference = Reference;\r\n//# sourceMappingURL=reference.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/reference.js\n// module id = 507\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.parent = parent;\r\nexports.child = child;\r\nexports.lastComponent = lastComponent;\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n/**\r\n * @fileoverview Contains helper methods for manipulating paths.\r\n */\r\n/**\r\n * @return Null if the path is already at the root.\r\n */\r\nfunction parent(path) {\r\n    if (path.length == 0) {\r\n        return null;\r\n    }\r\n    var index = path.lastIndexOf('/');\r\n    if (index === -1) {\r\n        return '';\r\n    }\r\n    var newPath = path.slice(0, index);\r\n    return newPath;\r\n}\r\nfunction child(path, childPath) {\r\n    var canonicalChildPath = childPath.split('/').filter(function (component) {\r\n        return component.length > 0;\r\n    }).join('/');\r\n    if (path.length === 0) {\r\n        return canonicalChildPath;\r\n    } else {\r\n        return path + '/' + canonicalChildPath;\r\n    }\r\n}\r\n/**\r\n * Returns the last component of a path.\r\n * '/foo/bar' -> 'bar'\r\n * '/foo/bar/baz/' -> 'baz/'\r\n * '/a' -> 'a'\r\n */\r\nfunction lastComponent(path) {\r\n    var index = path.lastIndexOf('/', path.length - 2);\r\n    if (index === -1) {\r\n        return path;\r\n    } else {\r\n        return path.slice(index + 1);\r\n    }\r\n}\r\n//# sourceMappingURL=path.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/path.js\n// module id = 508\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.FbsBlob = undefined;\r\n\r\nvar _fs = require('./fs');\r\n\r\nvar fs = _interopRequireWildcard(_fs);\r\n\r\nvar _string = require('./string');\r\n\r\nvar string = _interopRequireWildcard(_string);\r\n\r\nvar _type = require('./type');\r\n\r\nvar type = _interopRequireWildcard(_type);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\n/**\r\n * @param opt_elideCopy If true, doesn't copy mutable input data\r\n *     (e.g. Uint8Arrays). Pass true only if you know the objects will not be\r\n *     modified after this blob's construction.\r\n */\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n/**\r\n * @file Provides a Blob-like wrapper for various binary types (including the\r\n * native Blob type). This makes it possible to upload types like ArrayBuffers,\r\n * making uploads possible in environments without the native Blob type.\r\n */\r\nvar FbsBlob = function () {\r\n    function FbsBlob(data, opt_elideCopy) {\r\n        var size = 0;\r\n        var blobType = '';\r\n        if (type.isNativeBlob(data)) {\r\n            this.data_ = data;\r\n            size = data.size;\r\n            blobType = data.type;\r\n        } else if (data instanceof ArrayBuffer) {\r\n            if (opt_elideCopy) {\r\n                this.data_ = new Uint8Array(data);\r\n            } else {\r\n                this.data_ = new Uint8Array(data.byteLength);\r\n                this.data_.set(new Uint8Array(data));\r\n            }\r\n            size = this.data_.length;\r\n        } else if (data instanceof Uint8Array) {\r\n            if (opt_elideCopy) {\r\n                this.data_ = data;\r\n            } else {\r\n                this.data_ = new Uint8Array(data.length);\r\n                this.data_.set(data);\r\n            }\r\n            size = data.length;\r\n        }\r\n        this.size_ = size;\r\n        this.type_ = blobType;\r\n    }\r\n    FbsBlob.prototype.size = function () {\r\n        return this.size_;\r\n    };\r\n    FbsBlob.prototype.type = function () {\r\n        return this.type_;\r\n    };\r\n    FbsBlob.prototype.slice = function (startByte, endByte) {\r\n        if (type.isNativeBlob(this.data_)) {\r\n            var realBlob = this.data_;\r\n            var sliced = fs.sliceBlob(realBlob, startByte, endByte);\r\n            if (sliced === null) {\r\n                return null;\r\n            }\r\n            return new FbsBlob(sliced);\r\n        } else {\r\n            var slice = new Uint8Array(this.data_.buffer, startByte, endByte - startByte);\r\n            return new FbsBlob(slice, true);\r\n        }\r\n    };\r\n    FbsBlob.getBlob = function () {\r\n        var var_args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            var_args[_i] = arguments[_i];\r\n        }\r\n        if (type.isNativeBlobDefined()) {\r\n            var blobby = var_args.map(function (val) {\r\n                if (val instanceof FbsBlob) {\r\n                    return val.data_;\r\n                } else {\r\n                    return val;\r\n                }\r\n            });\r\n            return new FbsBlob(fs.getBlob.apply(null, blobby));\r\n        } else {\r\n            var uint8Arrays = var_args.map(function (val) {\r\n                if (type.isString(val)) {\r\n                    return string.dataFromString(_string.StringFormat.RAW, val).data;\r\n                } else {\r\n                    // Blobs don't exist, so this has to be a Uint8Array.\r\n                    return val.data_;\r\n                }\r\n            });\r\n            var finalLength_1 = 0;\r\n            uint8Arrays.forEach(function (array) {\r\n                finalLength_1 += array.byteLength;\r\n            });\r\n            var merged_1 = new Uint8Array(finalLength_1);\r\n            var index_1 = 0;\r\n            uint8Arrays.forEach(function (array) {\r\n                for (var i = 0; i < array.length; i++) {\r\n                    merged_1[index_1++] = array[i];\r\n                }\r\n            });\r\n            return new FbsBlob(merged_1, true);\r\n        }\r\n    };\r\n    FbsBlob.prototype.uploadData = function () {\r\n        return this.data_;\r\n    };\r\n    return FbsBlob;\r\n}();\r\nexports.FbsBlob = FbsBlob;\r\n//# sourceMappingURL=blob.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/blob.js\n// module id = 509\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.resumableUploadChunkSize = exports.ResumableUploadStatus = undefined;\r\nexports.handlerCheck = handlerCheck;\r\nexports.metadataHandler = metadataHandler;\r\nexports.sharedErrorHandler = sharedErrorHandler;\r\nexports.objectErrorHandler = objectErrorHandler;\r\nexports.getMetadata = getMetadata;\r\nexports.updateMetadata = updateMetadata;\r\nexports.deleteObject = deleteObject;\r\nexports.determineContentType_ = determineContentType_;\r\nexports.metadataForUpload_ = metadataForUpload_;\r\nexports.multipartUpload = multipartUpload;\r\nexports.checkResumeHeader_ = checkResumeHeader_;\r\nexports.createResumableUpload = createResumableUpload;\r\nexports.getResumableUploadStatus = getResumableUploadStatus;\r\nexports.continueResumableUpload = continueResumableUpload;\r\n\r\nvar _array = require('./array');\r\n\r\nvar array = _interopRequireWildcard(_array);\r\n\r\nvar _blob = require('./blob');\r\n\r\nvar _error = require('./error');\r\n\r\nvar errorsExports = _interopRequireWildcard(_error);\r\n\r\nvar _metadata = require('./metadata');\r\n\r\nvar MetadataUtils = _interopRequireWildcard(_metadata);\r\n\r\nvar _object = require('./object');\r\n\r\nvar object = _interopRequireWildcard(_object);\r\n\r\nvar _requestinfo = require('./requestinfo');\r\n\r\nvar _type = require('./type');\r\n\r\nvar type = _interopRequireWildcard(_type);\r\n\r\nvar _url = require('./url');\r\n\r\nvar UrlUtils = _interopRequireWildcard(_url);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\n/**\r\n * Throws the UNKNOWN FirebaseStorageError if cndn is false.\r\n */\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\nfunction handlerCheck(cndn) {\r\n    if (!cndn) {\r\n        throw errorsExports.unknown();\r\n    }\r\n}\r\nfunction metadataHandler(authWrapper, mappings) {\r\n    function handler(xhr, text) {\r\n        var metadata = MetadataUtils.fromResourceString(authWrapper, text, mappings);\r\n        handlerCheck(metadata !== null);\r\n        return metadata;\r\n    }\r\n    return handler;\r\n}\r\nfunction sharedErrorHandler(location) {\r\n    function errorHandler(xhr, err) {\r\n        var newErr;\r\n        if (xhr.getStatus() === 401) {\r\n            newErr = errorsExports.unauthenticated();\r\n        } else {\r\n            if (xhr.getStatus() === 402) {\r\n                newErr = errorsExports.quotaExceeded(location.bucket);\r\n            } else {\r\n                if (xhr.getStatus() === 403) {\r\n                    newErr = errorsExports.unauthorized(location.path);\r\n                } else {\r\n                    newErr = err;\r\n                }\r\n            }\r\n        }\r\n        newErr.setServerResponseProp(err.serverResponseProp());\r\n        return newErr;\r\n    }\r\n    return errorHandler;\r\n}\r\nfunction objectErrorHandler(location) {\r\n    var shared = sharedErrorHandler(location);\r\n    function errorHandler(xhr, err) {\r\n        var newErr = shared(xhr, err);\r\n        if (xhr.getStatus() === 404) {\r\n            newErr = errorsExports.objectNotFound(location.path);\r\n        }\r\n        newErr.setServerResponseProp(err.serverResponseProp());\r\n        return newErr;\r\n    }\r\n    return errorHandler;\r\n}\r\nfunction getMetadata(authWrapper, location, mappings) {\r\n    var urlPart = location.fullServerUrl();\r\n    var url = UrlUtils.makeNormalUrl(urlPart);\r\n    var method = 'GET';\r\n    var timeout = authWrapper.maxOperationRetryTime();\r\n    var requestInfo = new _requestinfo.RequestInfo(url, method, metadataHandler(authWrapper, mappings), timeout);\r\n    requestInfo.errorHandler = objectErrorHandler(location);\r\n    return requestInfo;\r\n}\r\nfunction updateMetadata(authWrapper, location, metadata, mappings) {\r\n    var urlPart = location.fullServerUrl();\r\n    var url = UrlUtils.makeNormalUrl(urlPart);\r\n    var method = 'PATCH';\r\n    var body = MetadataUtils.toResourceString(metadata, mappings);\r\n    var headers = { 'Content-Type': 'application/json; charset=utf-8' };\r\n    var timeout = authWrapper.maxOperationRetryTime();\r\n    var requestInfo = new _requestinfo.RequestInfo(url, method, metadataHandler(authWrapper, mappings), timeout);\r\n    requestInfo.headers = headers;\r\n    requestInfo.body = body;\r\n    requestInfo.errorHandler = objectErrorHandler(location);\r\n    return requestInfo;\r\n}\r\nfunction deleteObject(authWrapper, location) {\r\n    var urlPart = location.fullServerUrl();\r\n    var url = UrlUtils.makeNormalUrl(urlPart);\r\n    var method = 'DELETE';\r\n    var timeout = authWrapper.maxOperationRetryTime();\r\n    function handler(xhr, text) {}\r\n    var requestInfo = new _requestinfo.RequestInfo(url, method, handler, timeout);\r\n    requestInfo.successCodes = [200, 204];\r\n    requestInfo.errorHandler = objectErrorHandler(location);\r\n    return requestInfo;\r\n}\r\nfunction determineContentType_(metadata, blob) {\r\n    return metadata && metadata['contentType'] || blob && blob.type() || 'application/octet-stream';\r\n}\r\nfunction metadataForUpload_(location, blob, opt_metadata) {\r\n    var metadata = object.clone(opt_metadata);\r\n    metadata['fullPath'] = location.path;\r\n    metadata['size'] = blob.size();\r\n    if (!metadata['contentType']) {\r\n        metadata['contentType'] = determineContentType_(null, blob);\r\n    }\r\n    return metadata;\r\n}\r\nfunction multipartUpload(authWrapper, location, mappings, blob, opt_metadata) {\r\n    var urlPart = location.bucketOnlyServerUrl();\r\n    var headers = {\r\n        'X-Goog-Upload-Protocol': 'multipart'\r\n    };\r\n    function genBoundary() {\r\n        var str = '';\r\n        for (var i = 0; i < 2; i++) {\r\n            str = str + Math.random().toString().slice(2);\r\n        }\r\n        return str;\r\n    }\r\n    var boundary = genBoundary();\r\n    headers['Content-Type'] = 'multipart/related; boundary=' + boundary;\r\n    var metadata = metadataForUpload_(location, blob, opt_metadata);\r\n    var metadataString = MetadataUtils.toResourceString(metadata, mappings);\r\n    var preBlobPart = '--' + boundary + '\\r\\n' + 'Content-Type: application/json; charset=utf-8\\r\\n\\r\\n' + metadataString + '\\r\\n--' + boundary + '\\r\\n' + 'Content-Type: ' + metadata['contentType'] + '\\r\\n\\r\\n';\r\n    var postBlobPart = '\\r\\n--' + boundary + '--';\r\n    var body = _blob.FbsBlob.getBlob(preBlobPart, blob, postBlobPart);\r\n    if (body === null) {\r\n        throw errorsExports.cannotSliceBlob();\r\n    }\r\n    var urlParams = { name: metadata['fullPath'] };\r\n    var url = UrlUtils.makeUploadUrl(urlPart);\r\n    var method = 'POST';\r\n    var timeout = authWrapper.maxUploadRetryTime();\r\n    var requestInfo = new _requestinfo.RequestInfo(url, method, metadataHandler(authWrapper, mappings), timeout);\r\n    requestInfo.urlParams = urlParams;\r\n    requestInfo.headers = headers;\r\n    requestInfo.body = body.uploadData();\r\n    requestInfo.errorHandler = sharedErrorHandler(location);\r\n    return requestInfo;\r\n}\r\n/**\r\n * @param current The number of bytes that have been uploaded so far.\r\n * @param total The total number of bytes in the upload.\r\n * @param opt_finalized True if the server has finished the upload.\r\n * @param opt_metadata The upload metadata, should\r\n *     only be passed if opt_finalized is true.\r\n * @struct\r\n */\r\nvar ResumableUploadStatus = function () {\r\n    function ResumableUploadStatus(current, total, finalized, metadata) {\r\n        this.current = current;\r\n        this.total = total;\r\n        this.finalized = !!finalized;\r\n        this.metadata = metadata || null;\r\n    }\r\n    return ResumableUploadStatus;\r\n}();\r\nexports.ResumableUploadStatus = ResumableUploadStatus;\r\nfunction checkResumeHeader_(xhr, opt_allowed) {\r\n    var status;\r\n    try {\r\n        status = xhr.getResponseHeader('X-Goog-Upload-Status');\r\n    } catch (e) {\r\n        handlerCheck(false);\r\n    }\r\n    var allowed = opt_allowed || ['active'];\r\n    handlerCheck(array.contains(allowed, status));\r\n    return status;\r\n}\r\nfunction createResumableUpload(authWrapper, location, mappings, blob, opt_metadata) {\r\n    var urlPart = location.bucketOnlyServerUrl();\r\n    var metadata = metadataForUpload_(location, blob, opt_metadata);\r\n    var urlParams = { name: metadata['fullPath'] };\r\n    var url = UrlUtils.makeUploadUrl(urlPart);\r\n    var method = 'POST';\r\n    var headers = {\r\n        'X-Goog-Upload-Protocol': 'resumable',\r\n        'X-Goog-Upload-Command': 'start',\r\n        'X-Goog-Upload-Header-Content-Length': blob.size(),\r\n        'X-Goog-Upload-Header-Content-Type': metadata['contentType'],\r\n        'Content-Type': 'application/json; charset=utf-8'\r\n    };\r\n    var body = MetadataUtils.toResourceString(metadata, mappings);\r\n    var timeout = authWrapper.maxUploadRetryTime();\r\n    function handler(xhr, text) {\r\n        checkResumeHeader_(xhr);\r\n        var url;\r\n        try {\r\n            url = xhr.getResponseHeader('X-Goog-Upload-URL');\r\n        } catch (e) {\r\n            handlerCheck(false);\r\n        }\r\n        handlerCheck(type.isString(url));\r\n        return url;\r\n    }\r\n    var requestInfo = new _requestinfo.RequestInfo(url, method, handler, timeout);\r\n    requestInfo.urlParams = urlParams;\r\n    requestInfo.headers = headers;\r\n    requestInfo.body = body;\r\n    requestInfo.errorHandler = sharedErrorHandler(location);\r\n    return requestInfo;\r\n}\r\n/**\r\n * @param url From a call to fbs.requests.createResumableUpload.\r\n */\r\nfunction getResumableUploadStatus(authWrapper, location, url, blob) {\r\n    var headers = { 'X-Goog-Upload-Command': 'query' };\r\n    function handler(xhr, text) {\r\n        var status = checkResumeHeader_(xhr, ['active', 'final']);\r\n        var sizeString;\r\n        try {\r\n            sizeString = xhr.getResponseHeader('X-Goog-Upload-Size-Received');\r\n        } catch (e) {\r\n            handlerCheck(false);\r\n        }\r\n        var size = parseInt(sizeString, 10);\r\n        handlerCheck(!isNaN(size));\r\n        return new ResumableUploadStatus(size, blob.size(), status === 'final');\r\n    }\r\n    var method = 'POST';\r\n    var timeout = authWrapper.maxUploadRetryTime();\r\n    var requestInfo = new _requestinfo.RequestInfo(url, method, handler, timeout);\r\n    requestInfo.headers = headers;\r\n    requestInfo.errorHandler = sharedErrorHandler(location);\r\n    return requestInfo;\r\n}\r\n/**\r\n * Any uploads via the resumable upload API must transfer a number of bytes\r\n * that is a multiple of this number.\r\n */\r\nvar resumableUploadChunkSize = exports.resumableUploadChunkSize = 256 * 1024;\r\n/**\r\n * @param url From a call to fbs.requests.createResumableUpload.\r\n * @param chunkSize Number of bytes to upload.\r\n * @param opt_status The previous status.\r\n *     If not passed or null, we start from the beginning.\r\n * @throws fbs.Error If the upload is already complete, the passed in status\r\n *     has a final size inconsistent with the blob, or the blob cannot be sliced\r\n *     for upload.\r\n */\r\nfunction continueResumableUpload(location, authWrapper, url, blob, chunkSize, mappings, opt_status, opt_progressCallback) {\r\n    // TODO(andysoto): standardize on internal asserts\r\n    // assert(!(opt_status && opt_status.finalized));\r\n    var status = new ResumableUploadStatus(0, 0);\r\n    if (opt_status) {\r\n        status.current = opt_status.current;\r\n        status.total = opt_status.total;\r\n    } else {\r\n        status.current = 0;\r\n        status.total = blob.size();\r\n    }\r\n    if (blob.size() !== status.total) {\r\n        throw errorsExports.serverFileWrongSize();\r\n    }\r\n    var bytesLeft = status.total - status.current;\r\n    var bytesToUpload = bytesLeft;\r\n    if (chunkSize > 0) {\r\n        bytesToUpload = Math.min(bytesToUpload, chunkSize);\r\n    }\r\n    var startByte = status.current;\r\n    var endByte = startByte + bytesToUpload;\r\n    var uploadCommand = bytesToUpload === bytesLeft ? 'upload, finalize' : 'upload';\r\n    var headers = {\r\n        'X-Goog-Upload-Command': uploadCommand,\r\n        'X-Goog-Upload-Offset': status.current\r\n    };\r\n    var body = blob.slice(startByte, endByte);\r\n    if (body === null) {\r\n        throw errorsExports.cannotSliceBlob();\r\n    }\r\n    function handler(xhr, text) {\r\n        // TODO(andysoto): Verify the MD5 of each uploaded range:\r\n        // the 'x-range-md5' header comes back with status code 308 responses.\r\n        // We'll only be able to bail out though, because you can't re-upload a\r\n        // range that you previously uploaded.\r\n        var uploadStatus = checkResumeHeader_(xhr, ['active', 'final']);\r\n        var newCurrent = status.current + bytesToUpload;\r\n        var size = blob.size();\r\n        var metadata;\r\n        if (uploadStatus === 'final') {\r\n            metadata = metadataHandler(authWrapper, mappings)(xhr, text);\r\n        } else {\r\n            metadata = null;\r\n        }\r\n        return new ResumableUploadStatus(newCurrent, size, uploadStatus === 'final', metadata);\r\n    }\r\n    var method = 'POST';\r\n    var timeout = authWrapper.maxUploadRetryTime();\r\n    var requestInfo = new _requestinfo.RequestInfo(url, method, handler, timeout);\r\n    requestInfo.headers = headers;\r\n    requestInfo.body = body.uploadData();\r\n    requestInfo.progressCallback = opt_progressCallback || null;\r\n    requestInfo.errorHandler = sharedErrorHandler(location);\r\n    return requestInfo;\r\n}\r\n//# sourceMappingURL=requests.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/requests.js\n// module id = 510\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\n\r\nvar _errors = require('../../app/errors');\r\n\r\nvar _errors2 = require('../models/errors');\r\n\r\nvar _errors3 = _interopRequireDefault(_errors2);\r\n\r\nvar _tokenManager = require('../models/token-manager');\r\n\r\nvar _tokenManager2 = _interopRequireDefault(_tokenManager);\r\n\r\nvar _notificationPermission = require('../models/notification-permission');\r\n\r\nvar _notificationPermission2 = _interopRequireDefault(_notificationPermission);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar SENDER_ID_OPTION_NAME = 'messagingSenderId';\r\nvar ControllerInterface = function () {\r\n    /**\r\n     * An interface of the Messaging Service API\r\n     * @param {!firebase.app.App} app\r\n     */\r\n    function ControllerInterface(app) {\r\n        var _this = this;\r\n        this.errorFactory_ = new _errors.ErrorFactory('messaging', 'Messaging', _errors3.default.map);\r\n        if (!app.options[SENDER_ID_OPTION_NAME] || typeof app.options[SENDER_ID_OPTION_NAME] !== 'string') {\r\n            throw this.errorFactory_.create(_errors3.default.codes.BAD_SENDER_ID);\r\n        }\r\n        this.messagingSenderId_ = app.options[SENDER_ID_OPTION_NAME];\r\n        this.tokenManager_ = new _tokenManager2.default();\r\n        this.app = app;\r\n        this.INTERNAL = {};\r\n        this.INTERNAL.delete = function () {\r\n            return _this.delete;\r\n        };\r\n    }\r\n    /**\r\n     * @export\r\n     * @return {Promise<string> | Promise<null>} Returns a promise that\r\n     * resolves to an FCM token.\r\n     */\r\n    ControllerInterface.prototype.getToken = function () {\r\n        var _this = this;\r\n        // Check with permissions\r\n        var currentPermission = this.getNotificationPermission_();\r\n        if (currentPermission !== _notificationPermission2.default.granted) {\r\n            if (currentPermission === _notificationPermission2.default.denied) {\r\n                return Promise.reject(this.errorFactory_.create(_errors3.default.codes.NOTIFICATIONS_BLOCKED));\r\n            }\r\n            // We must wait for permission to be granted\r\n            return Promise.resolve(null);\r\n        }\r\n        return this.getSWRegistration_().then(function (registration) {\r\n            return _this.tokenManager_.getSavedToken(_this.messagingSenderId_, registration).then(function (token) {\r\n                if (token) {\r\n                    return token;\r\n                }\r\n                return _this.tokenManager_.createToken(_this.messagingSenderId_, registration);\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * This method deletes tokens that the token manager looks after and then\r\n     * unregisters the push subscription if it exists.\r\n     * @export\r\n     * @param {string} token\r\n     * @return {Promise<void>}\r\n     */\r\n    ControllerInterface.prototype.deleteToken = function (token) {\r\n        var _this = this;\r\n        return this.tokenManager_.deleteToken(token).then(function () {\r\n            return _this.getSWRegistration_().then(function (registration) {\r\n                if (registration) {\r\n                    return registration.pushManager.getSubscription();\r\n                }\r\n            }).then(function (subscription) {\r\n                if (subscription) {\r\n                    return subscription.unsubscribe();\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ControllerInterface.prototype.getSWRegistration_ = function () {\r\n        throw this.errorFactory_.create(_errors3.default.codes.SHOULD_BE_INHERITED);\r\n    };\r\n    //\r\n    // The following methods should only be available in the window.\r\n    //\r\n    ControllerInterface.prototype.requestPermission = function () {\r\n        throw this.errorFactory_.create(_errors3.default.codes.AVAILABLE_IN_WINDOW);\r\n    };\r\n    /**\r\n     * @export\r\n     * @param {!ServiceWorkerRegistration} registration\r\n     */\r\n    ControllerInterface.prototype.useServiceWorker = function (registration) {\r\n        throw this.errorFactory_.create(_errors3.default.codes.AVAILABLE_IN_WINDOW);\r\n    };\r\n    /**\r\n     * @export\r\n     * @param {!firebase.Observer|function(*)} nextOrObserver\r\n     * @param {function(!Error)=} optError\r\n     * @param {function()=} optCompleted\r\n     * @return {!function()}\r\n     */\r\n    ControllerInterface.prototype.onMessage = function (nextOrObserver, optError, optCompleted) {\r\n        throw this.errorFactory_.create(_errors3.default.codes.AVAILABLE_IN_WINDOW);\r\n    };\r\n    /**\r\n     * @export\r\n     * @param {!firebase.Observer|function()} nextOrObserver An observer object\r\n     * or a function triggered on token refresh.\r\n     * @param {function(!Error)=} optError Optional A function\r\n     * triggered on token refresh error.\r\n     * @param {function()=} optCompleted Optional function triggered when the\r\n     * observer is removed.\r\n     * @return {!function()} The unsubscribe function for the observer.\r\n     */\r\n    ControllerInterface.prototype.onTokenRefresh = function (nextOrObserver, optError, optCompleted) {\r\n        throw this.errorFactory_.create(_errors3.default.codes.AVAILABLE_IN_WINDOW);\r\n    };\r\n    //\r\n    // The following methods are used by the service worker only.\r\n    //\r\n    /**\r\n     * @export\r\n     * @param {function(Object)} callback\r\n     */\r\n    ControllerInterface.prototype.setBackgroundMessageHandler = function (callback) {\r\n        throw this.errorFactory_.create(_errors3.default.codes.AVAILABLE_IN_SW);\r\n    };\r\n    //\r\n    // The following methods are used by the service themselves and not exposed\r\n    // publicly or not expected to be used by developers.\r\n    //\r\n    /**\r\n     * This method is required to adhere to the Firebase interface.\r\n     * It closes any currently open indexdb database connections.\r\n     */\r\n    ControllerInterface.prototype.delete = function () {\r\n        this.tokenManager_.closeDatabase();\r\n    };\r\n    /**\r\n     * Returns the current Notification Permission state.\r\n     * @private\r\n     * @return {string} The currenct permission state.\r\n     */\r\n    ControllerInterface.prototype.getNotificationPermission_ = function () {\r\n        return Notification.permission;\r\n    };\r\n    /**\r\n     * @protected\r\n     * @returns {TokenManager}\r\n     */\r\n    ControllerInterface.prototype.getTokenManager = function () {\r\n        return this.tokenManager_;\r\n    };\r\n    return ControllerInterface;\r\n}();\r\nexports.default = ControllerInterface;\r\nmodule.exports = exports['default'];\r\n//# sourceMappingURL=controller-interface.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/messaging/controllers/controller-interface.js\n// module id = 511\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nvar FCM_APPLICATION_SERVER_KEY = [0x04, 0x33, 0x94, 0xf7, 0xdf, 0xa1, 0xeb, 0xb1, 0xdc, 0x03, 0xa2, 0x5e, 0x15, 0x71, 0xdb, 0x48, 0xd3, 0x2e, 0xed, 0xed, 0xb2, 0x34, 0xdb, 0xb7, 0x47, 0x3a, 0x0c, 0x8f, 0xc4, 0xcc, 0xe1, 0x6f, 0x3c, 0x8c, 0x84, 0xdf, 0xab, 0xb6, 0x66, 0x3e, 0xf2, 0x0c, 0xd4, 0x8b, 0xfe, 0xe3, 0xf9, 0x76, 0x2f, 0x14, 0x1c, 0x63, 0x08, 0x6a, 0x6f, 0x2d, 0xb1, 0x1a, 0x95, 0xb0, 0xce, 0x37, 0xc0, 0x9c, 0x6e];\r\nvar SUBSCRIPTION_DETAILS = {\r\n    userVisibleOnly: true,\r\n    applicationServerKey: new Uint8Array(FCM_APPLICATION_SERVER_KEY)\r\n};\r\nexports.default = {\r\n    ENDPOINT: 'https://fcm.googleapis.com',\r\n    APPLICATION_SERVER_KEY: FCM_APPLICATION_SERVER_KEY,\r\n    SUBSCRIPTION_OPTIONS: SUBSCRIPTION_DETAILS\r\n};\r\nmodule.exports = exports['default'];\r\n//# sourceMappingURL=fcm-details.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/messaging/models/fcm-details.js\n// module id = 512\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.default = {\r\n    granted: 'granted',\r\n    default: 'default',\r\n    denied: 'denied'\r\n};\r\nmodule.exports = exports['default'];\r\n//# sourceMappingURL=notification-permission.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/messaging/models/notification-permission.js\n// module id = 513\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n'use strict';\r\n// These fields are strings to prevent closure from thinking goog.getMsg\r\n// should be used to initialise the values\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nvar PARAMS = {\r\n    TYPE_OF_MSG: 'firebase-messaging-msg-type',\r\n    DATA: 'firebase-messaging-msg-data'\r\n};\r\n// This value isn't using the TYPE_OF_MSG short hand as closure\r\n// expects the variable to be defined via goog.getMsg\r\nvar msgType = {\r\n    PUSH_MSG_RECEIVED: 'push-msg-received',\r\n    NOTIFICATION_CLICKED: 'notification-clicked'\r\n};\r\nvar createNewMsg = function createNewMsg(msgType, msgData) {\r\n    var message = (_a = {}, _a[PARAMS.TYPE_OF_MSG] = msgType, _a[PARAMS.DATA] = msgData, _a);\r\n    return message;\r\n    var _a;\r\n};\r\nexports.default = {\r\n    PARAMS: PARAMS,\r\n    TYPES_OF_MSG: msgType,\r\n    createNewMsg: createNewMsg\r\n};\r\nmodule.exports = exports['default'];\r\n//# sourceMappingURL=worker-page-message.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/messaging/models/worker-page-message.js\n// module id = 514\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _app = require('./app');\r\n\r\nvar _app2 = _interopRequireDefault(_app);\r\n\r\nrequire('./auth');\r\n\r\nrequire('./database');\r\n\r\nrequire('./storage');\r\n\r\nrequire('./messaging');\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\n// Export the single instance of firebase\r\nexports.default = _app2.default; /**\r\n                                 * Copyright 2017 Google Inc.\r\n                                 *\r\n                                 * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n                                 * you may not use this file except in compliance with the License.\r\n                                 * You may obtain a copy of the License at\r\n                                 *\r\n                                 *   http://www.apache.org/licenses/LICENSE-2.0\r\n                                 *\r\n                                 * Unless required by applicable law or agreed to in writing, software\r\n                                 * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n                                 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n                                 * See the License for the specific language governing permissions and\r\n                                 * limitations under the License.\r\n                                 */\r\n\r\nmodule.exports = exports['default'];\r\n//# sourceMappingURL=firebase-browser.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/firebase-browser.js\n// module id = 533\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.registerStorage = registerStorage;\r\n\r\nvar _string = require('./storage/implementation/string');\r\n\r\nvar _taskenums = require('./storage/implementation/taskenums');\r\n\r\nvar _xhriopool = require('./storage/implementation/xhriopool');\r\n\r\nvar _reference = require('./storage/reference');\r\n\r\nvar _service = require('./storage/service');\r\n\r\nvar _app = require('./app');\r\n\r\nvar _app2 = _interopRequireDefault(_app);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\n/**\r\n * Type constant for Firebase Storage.\r\n */\r\nvar STORAGE_TYPE = 'storage'; /**\r\n                              * Copyright 2017 Google Inc.\r\n                              *\r\n                              * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n                              * you may not use this file except in compliance with the License.\r\n                              * You may obtain a copy of the License at\r\n                              *\r\n                              *   http://www.apache.org/licenses/LICENSE-2.0\r\n                              *\r\n                              * Unless required by applicable law or agreed to in writing, software\r\n                              * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n                              * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n                              * See the License for the specific language governing permissions and\r\n                              * limitations under the License.\r\n                              */\r\n\r\nfunction factory(app, unused, opt_url) {\r\n    return new _service.Service(app, new _xhriopool.XhrIoPool(), opt_url);\r\n}\r\nfunction registerStorage(instance) {\r\n    var namespaceExports = {\r\n        // no-inline\r\n        TaskState: _taskenums.TaskState,\r\n        TaskEvent: _taskenums.TaskEvent,\r\n        StringFormat: _string.StringFormat,\r\n        Storage: _service.Service,\r\n        Reference: _reference.Reference\r\n    };\r\n    instance.INTERNAL.registerService(STORAGE_TYPE, factory, namespaceExports, undefined,\r\n    // Allow multiple storage instances per app.\r\n    true);\r\n}\r\nregisterStorage(_app2.default);\r\n//# sourceMappingURL=storage.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage.js\n// module id = 534\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.XhrIoPool = undefined;\r\n\r\nvar _xhrio_network = require('./xhrio_network');\r\n\r\n/**\r\n * Factory-like class for creating XhrIo instances.\r\n */\r\nvar XhrIoPool = function () {\r\n    function XhrIoPool() {}\r\n    XhrIoPool.prototype.createXhrIo = function () {\r\n        return new _xhrio_network.NetworkXhrIo();\r\n    };\r\n    return XhrIoPool;\r\n}(); /**\r\n     * Copyright 2017 Google Inc.\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     *\r\n     *   http://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     */\r\nexports.XhrIoPool = XhrIoPool;\r\n//# sourceMappingURL=xhriopool.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/xhriopool.js\n// module id = 535\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.NetworkXhrIo = undefined;\r\n\r\nvar _error = require('./error');\r\n\r\nvar errorsExports = _interopRequireWildcard(_error);\r\n\r\nvar _object = require('./object');\r\n\r\nvar object = _interopRequireWildcard(_object);\r\n\r\nvar _promise_external = require('./promise_external');\r\n\r\nvar promiseimpl = _interopRequireWildcard(_promise_external);\r\n\r\nvar _type = require('./type');\r\n\r\nvar type = _interopRequireWildcard(_type);\r\n\r\nvar _xhrio = require('./xhrio');\r\n\r\nvar XhrIoExports = _interopRequireWildcard(_xhrio);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\n/**\r\n * We use this instead of goog.net.XhrIo because goog.net.XhrIo is hyuuuuge and\r\n * doesn't work in React Native on Android.\r\n */\r\nvar NetworkXhrIo = function () {\r\n    function NetworkXhrIo() {\r\n        var _this = this;\r\n        this.sent_ = false;\r\n        this.xhr_ = new XMLHttpRequest();\r\n        this.errorCode_ = XhrIoExports.ErrorCode.NO_ERROR;\r\n        this.sendPromise_ = promiseimpl.make(function (resolve, reject) {\r\n            _this.xhr_.addEventListener('abort', function (event) {\r\n                _this.errorCode_ = XhrIoExports.ErrorCode.ABORT;\r\n                resolve(_this);\r\n            });\r\n            _this.xhr_.addEventListener('error', function (event) {\r\n                _this.errorCode_ = XhrIoExports.ErrorCode.NETWORK_ERROR;\r\n                resolve(_this);\r\n            });\r\n            _this.xhr_.addEventListener('load', function (event) {\r\n                resolve(_this);\r\n            });\r\n        });\r\n    }\r\n    /**\r\n     * @override\r\n     */\r\n    NetworkXhrIo.prototype.send = function (url, method, opt_body, opt_headers) {\r\n        var _this = this;\r\n        if (this.sent_) {\r\n            throw errorsExports.internalError('cannot .send() more than once');\r\n        }\r\n        this.sent_ = true;\r\n        this.xhr_.open(method, url, true);\r\n        if (type.isDef(opt_headers)) {\r\n            var headers = opt_headers;\r\n            object.forEach(headers, function (key, val) {\r\n                _this.xhr_.setRequestHeader(key, val.toString());\r\n            });\r\n        }\r\n        if (type.isDef(opt_body)) {\r\n            this.xhr_.send(opt_body);\r\n        } else {\r\n            this.xhr_.send();\r\n        }\r\n        return this.sendPromise_;\r\n    };\r\n    /**\r\n     * @override\r\n     */\r\n    NetworkXhrIo.prototype.getErrorCode = function () {\r\n        if (!this.sent_) {\r\n            throw errorsExports.internalError('cannot .getErrorCode() before sending');\r\n        }\r\n        return this.errorCode_;\r\n    };\r\n    /**\r\n     * @override\r\n     */\r\n    NetworkXhrIo.prototype.getStatus = function () {\r\n        if (!this.sent_) {\r\n            throw errorsExports.internalError('cannot .getStatus() before sending');\r\n        }\r\n        try {\r\n            return this.xhr_.status;\r\n        } catch (e) {\r\n            return -1;\r\n        }\r\n    };\r\n    /**\r\n     * @override\r\n     */\r\n    NetworkXhrIo.prototype.getResponseText = function () {\r\n        if (!this.sent_) {\r\n            throw errorsExports.internalError('cannot .getResponseText() before sending');\r\n        }\r\n        return this.xhr_.responseText;\r\n    };\r\n    /**\r\n     * Aborts the request.\r\n     * @override\r\n     */\r\n    NetworkXhrIo.prototype.abort = function () {\r\n        this.xhr_.abort();\r\n    };\r\n    /**\r\n     * @override\r\n     */\r\n    NetworkXhrIo.prototype.getResponseHeader = function (header) {\r\n        return this.xhr_.getResponseHeader(header);\r\n    };\r\n    /**\r\n     * @override\r\n     */\r\n    NetworkXhrIo.prototype.addUploadProgressListener = function (listener) {\r\n        if (type.isDef(this.xhr_.upload)) {\r\n            this.xhr_.upload.addEventListener('progress', listener);\r\n        }\r\n    };\r\n    /**\r\n     * @override\r\n     */\r\n    NetworkXhrIo.prototype.removeUploadProgressListener = function (listener) {\r\n        if (type.isDef(this.xhr_.upload)) {\r\n            this.xhr_.upload.removeEventListener('progress', listener);\r\n        }\r\n    };\r\n    return NetworkXhrIo;\r\n}(); /**\r\n     * Copyright 2017 Google Inc.\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     *\r\n     *   http://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     */\r\nexports.NetworkXhrIo = NetworkXhrIo;\r\n//# sourceMappingURL=xhrio_network.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/xhrio_network.js\n// module id = 536\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.jsonObjectOrNull = jsonObjectOrNull;\r\n\r\nvar _type = require('./type');\r\n\r\nvar type = _interopRequireWildcard(_type);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\n/**\r\n * Returns the Object resulting from parsing the given JSON, or null if the\r\n * given string does not represent a JSON object.\r\n */\r\nfunction jsonObjectOrNull(s) {\r\n    var obj;\r\n    try {\r\n        obj = JSON.parse(s);\r\n    } catch (e) {\r\n        return null;\r\n    }\r\n    if (type.isNonArrayObject(obj)) {\r\n        return obj;\r\n    } else {\r\n        return null;\r\n    }\r\n} /**\r\n  * Copyright 2017 Google Inc.\r\n  *\r\n  * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n  * you may not use this file except in compliance with the License.\r\n  * You may obtain a copy of the License at\r\n  *\r\n  *   http://www.apache.org/licenses/LICENSE-2.0\r\n  *\r\n  * Unless required by applicable law or agreed to in writing, software\r\n  * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n  * See the License for the specific language governing permissions and\r\n  * limitations under the License.\r\n  */\r\n//# sourceMappingURL=json.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/json.js\n// module id = 537\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.getBlob = getBlob;\r\nexports.sliceBlob = sliceBlob;\r\n\r\nvar _type = require('./type');\r\n\r\nvar type = _interopRequireWildcard(_type);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\nfunction getBlobBuilder() {\r\n    if (typeof BlobBuilder !== 'undefined') {\r\n        return BlobBuilder;\r\n    } else if (typeof WebKitBlobBuilder !== 'undefined') {\r\n        return WebKitBlobBuilder;\r\n    } else {\r\n        return undefined;\r\n    }\r\n}\r\n/**\r\n * Concatenates one or more values together and converts them to a Blob.\r\n *\r\n * @param var_args The values that will make up the resulting blob.\r\n * @return The blob.\r\n */\r\nfunction getBlob() {\r\n    var var_args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        var_args[_i] = arguments[_i];\r\n    }\r\n    var BlobBuilder = getBlobBuilder();\r\n    if (BlobBuilder !== undefined) {\r\n        var bb = new BlobBuilder();\r\n        for (var i = 0; i < var_args.length; i++) {\r\n            bb.append(var_args[i]);\r\n        }\r\n        return bb.getBlob();\r\n    } else {\r\n        if (type.isNativeBlobDefined()) {\r\n            return new Blob(var_args);\r\n        } else {\r\n            throw Error(\"This browser doesn't seem to support creating Blobs\");\r\n        }\r\n    }\r\n}\r\n/**\r\n * Slices the blob. The returned blob contains data from the start byte\r\n * (inclusive) till the end byte (exclusive). Negative indices cannot be used.\r\n *\r\n * @param blob The blob to be sliced.\r\n * @param start Index of the starting byte.\r\n * @param end Index of the ending byte.\r\n * @return The blob slice or null if not supported.\r\n */\r\nfunction sliceBlob(blob, start, end) {\r\n    if (blob.webkitSlice) {\r\n        return blob.webkitSlice(start, end);\r\n    } else if (blob.mozSlice) {\r\n        return blob.mozSlice(start, end);\r\n    } else if (blob.slice) {\r\n        return blob.slice(start, end);\r\n    }\r\n    return null;\r\n}\r\n//# sourceMappingURL=fs.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/fs.js\n// module id = 538\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nvar RequestInfo = function () {\r\n    function RequestInfo(url, method,\r\n    /**\r\n       * Returns the value with which to resolve the request's promise. Only called\r\n       * if the request is successful. Throw from this function to reject the\r\n       * returned Request's promise with the thrown error.\r\n       * Note: The XhrIo passed to this function may be reused after this callback\r\n       * returns. Do not keep a reference to it in any way.\r\n       */\r\n    handler, timeout) {\r\n        this.url = url;\r\n        this.method = method;\r\n        this.handler = handler;\r\n        this.timeout = timeout;\r\n        this.urlParams = {};\r\n        this.headers = {};\r\n        this.body = null;\r\n        this.errorHandler = null;\r\n        /**\r\n         * Called with the current number of bytes uploaded and total size (-1 if not\r\n         * computable) of the request body (i.e. used to report upload progress).\r\n         */\r\n        this.progressCallback = null;\r\n        this.successCodes = [200];\r\n        this.additionalRetryCodes = [];\r\n    }\r\n    return RequestInfo;\r\n}();\r\nexports.RequestInfo = RequestInfo;\r\n//# sourceMappingURL=requestinfo.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/requestinfo.js\n// module id = 539\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.UploadTask = undefined;\r\n\r\nvar _taskenums = require('./implementation/taskenums');\r\n\r\nvar fbsTaskEnums = _interopRequireWildcard(_taskenums);\r\n\r\nvar _observer = require('./implementation/observer');\r\n\r\nvar _tasksnapshot = require('./tasksnapshot');\r\n\r\nvar _args = require('./implementation/args');\r\n\r\nvar fbsArgs = _interopRequireWildcard(_args);\r\n\r\nvar _array = require('./implementation/array');\r\n\r\nvar fbsArray = _interopRequireWildcard(_array);\r\n\r\nvar _async = require('./implementation/async');\r\n\r\nvar _error = require('./implementation/error');\r\n\r\nvar errors = _interopRequireWildcard(_error);\r\n\r\nvar _promise_external = require('./implementation/promise_external');\r\n\r\nvar fbsPromiseimpl = _interopRequireWildcard(_promise_external);\r\n\r\nvar _requests = require('./implementation/requests');\r\n\r\nvar fbsRequests = _interopRequireWildcard(_requests);\r\n\r\nvar _type = require('./implementation/type');\r\n\r\nvar typeUtils = _interopRequireWildcard(_type);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\n/**\r\n * Represents a blob being uploaded. Can be used to pause/resume/cancel the\r\n * upload and manage callbacks for various events.\r\n */\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n/**\r\n * @fileoverview Defines types for interacting with blob transfer tasks.\r\n */\r\nvar UploadTask = function () {\r\n    /**\r\n     * @param ref The firebaseStorage.Reference object this task came\r\n     *     from, untyped to avoid cyclic dependencies.\r\n     * @param blob The blob to upload.\r\n     */\r\n    function UploadTask(ref, authWrapper, location, mappings, blob, metadata) {\r\n        if (metadata === void 0) {\r\n            metadata = null;\r\n        }\r\n        var _this = this;\r\n        this.transferred_ = 0;\r\n        this.needToFetchStatus_ = false;\r\n        this.needToFetchMetadata_ = false;\r\n        this.observers_ = [];\r\n        this.error_ = null;\r\n        this.uploadUrl_ = null;\r\n        this.request_ = null;\r\n        this.chunkMultiplier_ = 1;\r\n        this.resolve_ = null;\r\n        this.reject_ = null;\r\n        this.ref_ = ref;\r\n        this.authWrapper_ = authWrapper;\r\n        this.location_ = location;\r\n        this.blob_ = blob;\r\n        this.metadata_ = metadata;\r\n        this.mappings_ = mappings;\r\n        this.resumable_ = this.shouldDoResumable_(this.blob_);\r\n        this.state_ = _taskenums.InternalTaskState.RUNNING;\r\n        this.errorHandler_ = function (error) {\r\n            _this.request_ = null;\r\n            _this.chunkMultiplier_ = 1;\r\n            if (error.codeEquals(errors.Code.CANCELED)) {\r\n                _this.needToFetchStatus_ = true;\r\n                _this.completeTransitions_();\r\n            } else {\r\n                _this.error_ = error;\r\n                _this.transition_(_taskenums.InternalTaskState.ERROR);\r\n            }\r\n        };\r\n        this.metadataErrorHandler_ = function (error) {\r\n            _this.request_ = null;\r\n            if (error.codeEquals(errors.Code.CANCELED)) {\r\n                _this.completeTransitions_();\r\n            } else {\r\n                _this.error_ = error;\r\n                _this.transition_(_taskenums.InternalTaskState.ERROR);\r\n            }\r\n        };\r\n        this.promise_ = fbsPromiseimpl.make(function (resolve, reject) {\r\n            _this.resolve_ = resolve;\r\n            _this.reject_ = reject;\r\n            _this.start_();\r\n        });\r\n        // Prevent uncaught rejections on the internal promise from bubbling out\r\n        // to the top level with a dummy handler.\r\n        this.promise_.then(null, function () {});\r\n    }\r\n    UploadTask.prototype.makeProgressCallback_ = function () {\r\n        var _this = this;\r\n        var sizeBefore = this.transferred_;\r\n        return function (loaded, total) {\r\n            _this.updateProgress_(sizeBefore + loaded);\r\n        };\r\n    };\r\n    UploadTask.prototype.shouldDoResumable_ = function (blob) {\r\n        return blob.size() > 256 * 1024;\r\n    };\r\n    UploadTask.prototype.start_ = function () {\r\n        if (this.state_ !== _taskenums.InternalTaskState.RUNNING) {\r\n            // This can happen if someone pauses us in a resume callback, for example.\r\n            return;\r\n        }\r\n        if (this.request_ !== null) {\r\n            return;\r\n        }\r\n        if (this.resumable_) {\r\n            if (this.uploadUrl_ === null) {\r\n                this.createResumable_();\r\n            } else {\r\n                if (this.needToFetchStatus_) {\r\n                    this.fetchStatus_();\r\n                } else {\r\n                    if (this.needToFetchMetadata_) {\r\n                        // Happens if we miss the metadata on upload completion.\r\n                        this.fetchMetadata_();\r\n                    } else {\r\n                        this.continueUpload_();\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            this.oneShotUpload_();\r\n        }\r\n    };\r\n    UploadTask.prototype.resolveToken_ = function (callback) {\r\n        var _this = this;\r\n        this.authWrapper_.getAuthToken().then(function (authToken) {\r\n            switch (_this.state_) {\r\n                case _taskenums.InternalTaskState.RUNNING:\r\n                    callback(authToken);\r\n                    break;\r\n                case _taskenums.InternalTaskState.CANCELING:\r\n                    _this.transition_(_taskenums.InternalTaskState.CANCELED);\r\n                    break;\r\n                case _taskenums.InternalTaskState.PAUSING:\r\n                    _this.transition_(_taskenums.InternalTaskState.PAUSED);\r\n                    break;\r\n                default:\r\n            }\r\n        });\r\n    };\r\n    // TODO(andysoto): assert false\r\n    UploadTask.prototype.createResumable_ = function () {\r\n        var _this = this;\r\n        this.resolveToken_(function (authToken) {\r\n            var requestInfo = fbsRequests.createResumableUpload(_this.authWrapper_, _this.location_, _this.mappings_, _this.blob_, _this.metadata_);\r\n            var createRequest = _this.authWrapper_.makeRequest(requestInfo, authToken);\r\n            _this.request_ = createRequest;\r\n            createRequest.getPromise().then(function (url) {\r\n                _this.request_ = null;\r\n                _this.uploadUrl_ = url;\r\n                _this.needToFetchStatus_ = false;\r\n                _this.completeTransitions_();\r\n            }, _this.errorHandler_);\r\n        });\r\n    };\r\n    UploadTask.prototype.fetchStatus_ = function () {\r\n        var _this = this;\r\n        // TODO(andysoto): assert(this.uploadUrl_ !== null);\r\n        var url = this.uploadUrl_;\r\n        this.resolveToken_(function (authToken) {\r\n            var requestInfo = fbsRequests.getResumableUploadStatus(_this.authWrapper_, _this.location_, url, _this.blob_);\r\n            var statusRequest = _this.authWrapper_.makeRequest(requestInfo, authToken);\r\n            _this.request_ = statusRequest;\r\n            statusRequest.getPromise().then(function (status) {\r\n                status = status;\r\n                _this.request_ = null;\r\n                _this.updateProgress_(status.current);\r\n                _this.needToFetchStatus_ = false;\r\n                if (status.finalized) {\r\n                    _this.needToFetchMetadata_ = true;\r\n                }\r\n                _this.completeTransitions_();\r\n            }, _this.errorHandler_);\r\n        });\r\n    };\r\n    UploadTask.prototype.continueUpload_ = function () {\r\n        var _this = this;\r\n        var chunkSize = fbsRequests.resumableUploadChunkSize * this.chunkMultiplier_;\r\n        var status = new fbsRequests.ResumableUploadStatus(this.transferred_, this.blob_.size());\r\n        // TODO(andysoto): assert(this.uploadUrl_ !== null);\r\n        var url = this.uploadUrl_;\r\n        this.resolveToken_(function (authToken) {\r\n            var requestInfo;\r\n            try {\r\n                requestInfo = fbsRequests.continueResumableUpload(_this.location_, _this.authWrapper_, url, _this.blob_, chunkSize, _this.mappings_, status, _this.makeProgressCallback_());\r\n            } catch (e) {\r\n                _this.error_ = e;\r\n                _this.transition_(_taskenums.InternalTaskState.ERROR);\r\n                return;\r\n            }\r\n            var uploadRequest = _this.authWrapper_.makeRequest(requestInfo, authToken);\r\n            _this.request_ = uploadRequest;\r\n            uploadRequest.getPromise().then(function (newStatus) {\r\n                _this.increaseMultiplier_();\r\n                _this.request_ = null;\r\n                _this.updateProgress_(newStatus.current);\r\n                if (newStatus.finalized) {\r\n                    _this.metadata_ = newStatus.metadata;\r\n                    _this.transition_(_taskenums.InternalTaskState.SUCCESS);\r\n                } else {\r\n                    _this.completeTransitions_();\r\n                }\r\n            }, _this.errorHandler_);\r\n        });\r\n    };\r\n    UploadTask.prototype.increaseMultiplier_ = function () {\r\n        var currentSize = fbsRequests.resumableUploadChunkSize * this.chunkMultiplier_;\r\n        // Max chunk size is 32M.\r\n        if (currentSize < 32 * 1024 * 1024) {\r\n            this.chunkMultiplier_ *= 2;\r\n        }\r\n    };\r\n    UploadTask.prototype.fetchMetadata_ = function () {\r\n        var _this = this;\r\n        this.resolveToken_(function (authToken) {\r\n            var requestInfo = fbsRequests.getMetadata(_this.authWrapper_, _this.location_, _this.mappings_);\r\n            var metadataRequest = _this.authWrapper_.makeRequest(requestInfo, authToken);\r\n            _this.request_ = metadataRequest;\r\n            metadataRequest.getPromise().then(function (metadata) {\r\n                _this.request_ = null;\r\n                _this.metadata_ = metadata;\r\n                _this.transition_(_taskenums.InternalTaskState.SUCCESS);\r\n            }, _this.metadataErrorHandler_);\r\n        });\r\n    };\r\n    UploadTask.prototype.oneShotUpload_ = function () {\r\n        var _this = this;\r\n        this.resolveToken_(function (authToken) {\r\n            var requestInfo = fbsRequests.multipartUpload(_this.authWrapper_, _this.location_, _this.mappings_, _this.blob_, _this.metadata_);\r\n            var multipartRequest = _this.authWrapper_.makeRequest(requestInfo, authToken);\r\n            _this.request_ = multipartRequest;\r\n            multipartRequest.getPromise().then(function (metadata) {\r\n                _this.request_ = null;\r\n                _this.metadata_ = metadata;\r\n                _this.updateProgress_(_this.blob_.size());\r\n                _this.transition_(_taskenums.InternalTaskState.SUCCESS);\r\n            }, _this.errorHandler_);\r\n        });\r\n    };\r\n    UploadTask.prototype.updateProgress_ = function (transferred) {\r\n        var old = this.transferred_;\r\n        this.transferred_ = transferred;\r\n        // A progress update can make the \"transferred\" value smaller (e.g. a\r\n        // partial upload not completed by server, after which the \"transferred\"\r\n        // value may reset to the value at the beginning of the request).\r\n        if (this.transferred_ !== old) {\r\n            this.notifyObservers_();\r\n        }\r\n    };\r\n    UploadTask.prototype.transition_ = function (state) {\r\n        if (this.state_ === state) {\r\n            return;\r\n        }\r\n        switch (state) {\r\n            case _taskenums.InternalTaskState.CANCELING:\r\n                // TODO(andysoto):\r\n                // assert(this.state_ === InternalTaskState.RUNNING ||\r\n                //        this.state_ === InternalTaskState.PAUSING);\r\n                this.state_ = state;\r\n                if (this.request_ !== null) {\r\n                    this.request_.cancel();\r\n                }\r\n                break;\r\n            case _taskenums.InternalTaskState.PAUSING:\r\n                // TODO(andysoto):\r\n                // assert(this.state_ === InternalTaskState.RUNNING);\r\n                this.state_ = state;\r\n                if (this.request_ !== null) {\r\n                    this.request_.cancel();\r\n                }\r\n                break;\r\n            case _taskenums.InternalTaskState.RUNNING:\r\n                // TODO(andysoto):\r\n                // assert(this.state_ === InternalTaskState.PAUSED ||\r\n                //        this.state_ === InternalTaskState.PAUSING);\r\n                var wasPaused = this.state_ === _taskenums.InternalTaskState.PAUSED;\r\n                this.state_ = state;\r\n                if (wasPaused) {\r\n                    this.notifyObservers_();\r\n                    this.start_();\r\n                }\r\n                break;\r\n            case _taskenums.InternalTaskState.PAUSED:\r\n                // TODO(andysoto):\r\n                // assert(this.state_ === InternalTaskState.PAUSING);\r\n                this.state_ = state;\r\n                this.notifyObservers_();\r\n                break;\r\n            case _taskenums.InternalTaskState.CANCELED:\r\n                // TODO(andysoto):\r\n                // assert(this.state_ === InternalTaskState.PAUSED ||\r\n                //        this.state_ === InternalTaskState.CANCELING);\r\n                this.error_ = errors.canceled();\r\n                this.state_ = state;\r\n                this.notifyObservers_();\r\n                break;\r\n            case _taskenums.InternalTaskState.ERROR:\r\n                // TODO(andysoto):\r\n                // assert(this.state_ === InternalTaskState.RUNNING ||\r\n                //        this.state_ === InternalTaskState.PAUSING ||\r\n                //        this.state_ === InternalTaskState.CANCELING);\r\n                this.state_ = state;\r\n                this.notifyObservers_();\r\n                break;\r\n            case _taskenums.InternalTaskState.SUCCESS:\r\n                // TODO(andysoto):\r\n                // assert(this.state_ === InternalTaskState.RUNNING ||\r\n                //        this.state_ === InternalTaskState.PAUSING ||\r\n                //        this.state_ === InternalTaskState.CANCELING);\r\n                this.state_ = state;\r\n                this.notifyObservers_();\r\n                break;\r\n        }\r\n    };\r\n    UploadTask.prototype.completeTransitions_ = function () {\r\n        switch (this.state_) {\r\n            case _taskenums.InternalTaskState.PAUSING:\r\n                this.transition_(_taskenums.InternalTaskState.PAUSED);\r\n                break;\r\n            case _taskenums.InternalTaskState.CANCELING:\r\n                this.transition_(_taskenums.InternalTaskState.CANCELED);\r\n                break;\r\n            case _taskenums.InternalTaskState.RUNNING:\r\n                this.start_();\r\n                break;\r\n            default:\r\n                // TODO(andysoto): assert(false);\r\n                break;\r\n        }\r\n    };\r\n    Object.defineProperty(UploadTask.prototype, \"snapshot\", {\r\n        get: function get() {\r\n            var externalState = fbsTaskEnums.taskStateFromInternalTaskState(this.state_);\r\n            return new _tasksnapshot.UploadTaskSnapshot(this.transferred_, this.blob_.size(), externalState, this.metadata_, this, this.ref_);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Adds a callback for an event.\r\n     * @param type The type of event to listen for.\r\n     */\r\n    UploadTask.prototype.on = function (type, nextOrObserver, error, completed) {\r\n        if (nextOrObserver === void 0) {\r\n            nextOrObserver = undefined;\r\n        }\r\n        if (error === void 0) {\r\n            error = undefined;\r\n        }\r\n        if (completed === void 0) {\r\n            completed = undefined;\r\n        }\r\n        function typeValidator(_p) {\r\n            if (type !== _taskenums.TaskEvent.STATE_CHANGED) {\r\n                throw \"Expected one of the event types: [\" + _taskenums.TaskEvent.STATE_CHANGED + \"].\";\r\n            }\r\n        }\r\n        var nextOrObserverMessage = 'Expected a function or an Object with one of ' + '`next`, `error`, `complete` properties.';\r\n        var nextValidator = fbsArgs.nullFunctionSpec(true).validator;\r\n        var observerValidator = fbsArgs.looseObjectSpec(null, true).validator;\r\n        function nextOrObserverValidator(p) {\r\n            try {\r\n                nextValidator(p);\r\n                return;\r\n            } catch (e) {}\r\n            try {\r\n                observerValidator(p);\r\n                var anyDefined = typeUtils.isJustDef(p['next']) || typeUtils.isJustDef(p['error']) || typeUtils.isJustDef(p['complete']);\r\n                if (!anyDefined) {\r\n                    throw '';\r\n                }\r\n                return;\r\n            } catch (e) {\r\n                throw nextOrObserverMessage;\r\n            }\r\n        }\r\n        var specs = [fbsArgs.stringSpec(typeValidator), fbsArgs.looseObjectSpec(nextOrObserverValidator, true), fbsArgs.nullFunctionSpec(true), fbsArgs.nullFunctionSpec(true)];\r\n        fbsArgs.validate('on', specs, arguments);\r\n        var self = this;\r\n        function makeBinder(specs) {\r\n            function binder(nextOrObserver, error, opt_complete) {\r\n                if (specs !== null) {\r\n                    fbsArgs.validate('on', specs, arguments);\r\n                }\r\n                var observer = new _observer.Observer(nextOrObserver, error, completed);\r\n                self.addObserver_(observer);\r\n                return function () {\r\n                    self.removeObserver_(observer);\r\n                };\r\n            }\r\n            return binder;\r\n        }\r\n        function binderNextOrObserverValidator(p) {\r\n            if (p === null) {\r\n                throw nextOrObserverMessage;\r\n            }\r\n            nextOrObserverValidator(p);\r\n        }\r\n        var binderSpecs = [fbsArgs.looseObjectSpec(binderNextOrObserverValidator), fbsArgs.nullFunctionSpec(true), fbsArgs.nullFunctionSpec(true)];\r\n        var typeOnly = !(typeUtils.isJustDef(nextOrObserver) || typeUtils.isJustDef(error) || typeUtils.isJustDef(completed));\r\n        if (typeOnly) {\r\n            return makeBinder(binderSpecs);\r\n        } else {\r\n            return makeBinder(null)(nextOrObserver, error, completed);\r\n        }\r\n    };\r\n    /**\r\n     * This object behaves like a Promise, and resolves with its snapshot data\r\n     * when the upload completes.\r\n     * @param onFulfilled The fulfillment callback. Promise chaining works as normal.\r\n     * @param onRejected The rejection callback.\r\n     */\r\n    UploadTask.prototype.then = function (onFulfilled, onRejected) {\r\n        // These casts are needed so that TypeScript can infer the types of the\r\n        // resulting Promise.\r\n        return this.promise_.then(onFulfilled, onRejected);\r\n    };\r\n    /**\r\n     * Equivalent to calling `then(null, onRejected)`.\r\n     */\r\n    UploadTask.prototype.catch = function (onRejected) {\r\n        return this.then(null, onRejected);\r\n    };\r\n    /**\r\n     * Adds the given observer.\r\n     */\r\n    UploadTask.prototype.addObserver_ = function (observer) {\r\n        this.observers_.push(observer);\r\n        this.notifyObserver_(observer);\r\n    };\r\n    /**\r\n     * Removes the given observer.\r\n     */\r\n    UploadTask.prototype.removeObserver_ = function (observer) {\r\n        fbsArray.remove(this.observers_, observer);\r\n    };\r\n    UploadTask.prototype.notifyObservers_ = function () {\r\n        var _this = this;\r\n        this.finishPromise_();\r\n        var observers = fbsArray.clone(this.observers_);\r\n        observers.forEach(function (observer) {\r\n            _this.notifyObserver_(observer);\r\n        });\r\n    };\r\n    UploadTask.prototype.finishPromise_ = function () {\r\n        if (this.resolve_ !== null) {\r\n            var triggered = true;\r\n            switch (fbsTaskEnums.taskStateFromInternalTaskState(this.state_)) {\r\n                case _taskenums.TaskState.SUCCESS:\r\n                    (0, _async.async)(this.resolve_.bind(null, this.snapshot))();\r\n                    break;\r\n                case _taskenums.TaskState.CANCELED:\r\n                case _taskenums.TaskState.ERROR:\r\n                    var toCall = this.reject_;\r\n                    (0, _async.async)(toCall.bind(null, this.error_))();\r\n                    break;\r\n                default:\r\n                    triggered = false;\r\n                    break;\r\n            }\r\n            if (triggered) {\r\n                this.resolve_ = null;\r\n                this.reject_ = null;\r\n            }\r\n        }\r\n    };\r\n    UploadTask.prototype.notifyObserver_ = function (observer) {\r\n        var externalState = fbsTaskEnums.taskStateFromInternalTaskState(this.state_);\r\n        switch (externalState) {\r\n            case _taskenums.TaskState.RUNNING:\r\n            case _taskenums.TaskState.PAUSED:\r\n                if (observer.next !== null) {\r\n                    (0, _async.async)(observer.next.bind(observer, this.snapshot))();\r\n                }\r\n                break;\r\n            case _taskenums.TaskState.SUCCESS:\r\n                if (observer.complete !== null) {\r\n                    (0, _async.async)(observer.complete.bind(observer))();\r\n                }\r\n                break;\r\n            case _taskenums.TaskState.CANCELED:\r\n            case _taskenums.TaskState.ERROR:\r\n                if (observer.error !== null) {\r\n                    (0, _async.async)(observer.error.bind(observer, this.error_))();\r\n                }\r\n                break;\r\n            default:\r\n                // TODO(andysoto): assert(false);\r\n                if (observer.error !== null) {\r\n                    (0, _async.async)(observer.error.bind(observer, this.error_))();\r\n                }\r\n        }\r\n    };\r\n    /**\r\n     * Resumes a paused task. Has no effect on a currently running or failed task.\r\n     * @return True if the operation took effect, false if ignored.\r\n     */\r\n    UploadTask.prototype.resume = function () {\r\n        fbsArgs.validate('resume', [], arguments);\r\n        var valid = this.state_ === _taskenums.InternalTaskState.PAUSED || this.state_ === _taskenums.InternalTaskState.PAUSING;\r\n        if (valid) {\r\n            this.transition_(_taskenums.InternalTaskState.RUNNING);\r\n        }\r\n        return valid;\r\n    };\r\n    /**\r\n     * Pauses a currently running task. Has no effect on a paused or failed task.\r\n     * @return True if the operation took effect, false if ignored.\r\n     */\r\n    UploadTask.prototype.pause = function () {\r\n        fbsArgs.validate('pause', [], arguments);\r\n        var valid = this.state_ === _taskenums.InternalTaskState.RUNNING;\r\n        if (valid) {\r\n            this.transition_(_taskenums.InternalTaskState.PAUSING);\r\n        }\r\n        return valid;\r\n    };\r\n    /**\r\n     * Cancels a currently running or paused task. Has no effect on a complete or\r\n     * failed task.\r\n     * @return True if the operation took effect, false if ignored.\r\n     */\r\n    UploadTask.prototype.cancel = function () {\r\n        fbsArgs.validate('cancel', [], arguments);\r\n        var valid = this.state_ === _taskenums.InternalTaskState.RUNNING || this.state_ === _taskenums.InternalTaskState.PAUSING;\r\n        if (valid) {\r\n            this.transition_(_taskenums.InternalTaskState.CANCELING);\r\n        }\r\n        return valid;\r\n    };\r\n    return UploadTask;\r\n}();\r\nexports.UploadTask = UploadTask;\r\n//# sourceMappingURL=task.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/task.js\n// module id = 540\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.Observer = undefined;\r\n\r\nvar _type = require('./type');\r\n\r\nvar type = _interopRequireWildcard(_type);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\n/**\r\n * @struct\r\n */\r\nvar Observer = function () {\r\n    function Observer(nextOrObserver, opt_error, opt_complete) {\r\n        var asFunctions = type.isFunction(nextOrObserver) || type.isDef(opt_error) || type.isDef(opt_complete);\r\n        if (asFunctions) {\r\n            this.next = nextOrObserver;\r\n            this.error = opt_error || null;\r\n            this.complete = opt_complete || null;\r\n        } else {\r\n            var observer = nextOrObserver;\r\n            this.next = observer.next || null;\r\n            this.error = observer.error || null;\r\n            this.complete = observer.complete || null;\r\n        }\r\n    }\r\n    return Observer;\r\n}(); /**\r\n     * Copyright 2017 Google Inc.\r\n     *\r\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n     * you may not use this file except in compliance with the License.\r\n     * You may obtain a copy of the License at\r\n     *\r\n     *   http://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     */\r\nexports.Observer = Observer;\r\n//# sourceMappingURL=observer.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/observer.js\n// module id = 541\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nvar UploadTaskSnapshot = function () {\r\n    function UploadTaskSnapshot(bytesTransferred, totalBytes, state, metadata, task, ref) {\r\n        this.bytesTransferred = bytesTransferred;\r\n        this.totalBytes = totalBytes;\r\n        this.state = state;\r\n        this.metadata = metadata;\r\n        this.task = task;\r\n        this.ref = ref;\r\n    }\r\n    Object.defineProperty(UploadTaskSnapshot.prototype, \"downloadURL\", {\r\n        get: function get() {\r\n            if (this.metadata !== null) {\r\n                var urls = this.metadata['downloadURLs'];\r\n                if (urls != null && urls[0] != null) {\r\n                    return urls[0];\r\n                } else {\r\n                    return null;\r\n                }\r\n            } else {\r\n                return null;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return UploadTaskSnapshot;\r\n}();\r\nexports.UploadTaskSnapshot = UploadTaskSnapshot;\r\n//# sourceMappingURL=tasksnapshot.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/tasksnapshot.js\n// module id = 542\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.async = async;\r\n\r\nvar _promise_external = require('./promise_external');\r\n\r\nvar promiseimpl = _interopRequireWildcard(_promise_external);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\n/**\r\n * Returns a function that invokes f with its arguments asynchronously as a\r\n * microtask, i.e. as soon as possible after the current script returns back\r\n * into browser code.\r\n */\r\nfunction async(f) {\r\n    return function () {\r\n        var argsToForward = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            argsToForward[_i] = arguments[_i];\r\n        }\r\n        promiseimpl.resolve(true).then(function () {\r\n            f.apply(null, argsToForward);\r\n        });\r\n    };\r\n} /**\r\n  * Copyright 2017 Google Inc.\r\n  *\r\n  * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n  * you may not use this file except in compliance with the License.\r\n  * You may obtain a copy of the License at\r\n  *\r\n  *   http://www.apache.org/licenses/LICENSE-2.0\r\n  *\r\n  * Unless required by applicable law or agreed to in writing, software\r\n  * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n  * See the License for the specific language governing permissions and\r\n  * limitations under the License.\r\n  */\r\n/**\r\n * @fileoverview Method for invoking a callback asynchronously.\r\n */\r\n//# sourceMappingURL=async.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/async.js\n// module id = 543\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.ServiceInternals = exports.Service = undefined;\r\n\r\nvar _args = require('./implementation/args');\r\n\r\nvar args = _interopRequireWildcard(_args);\r\n\r\nvar _authwrapper = require('./implementation/authwrapper');\r\n\r\nvar _location = require('./implementation/location');\r\n\r\nvar _promise_external = require('./implementation/promise_external');\r\n\r\nvar fbsPromiseImpl = _interopRequireWildcard(_promise_external);\r\n\r\nvar _request = require('./implementation/request');\r\n\r\nvar RequestExports = _interopRequireWildcard(_request);\r\n\r\nvar _reference = require('./reference');\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\n/**\r\n * A service that provides firebaseStorage.Reference instances.\r\n * @param opt_url gs:// url to a custom Storage Bucket\r\n *\r\n * @struct\r\n */\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\nvar Service = function () {\r\n    function Service(app, pool, url) {\r\n        this.bucket_ = null;\r\n        function maker(authWrapper, loc) {\r\n            return new _reference.Reference(authWrapper, loc);\r\n        }\r\n        this.authWrapper_ = new _authwrapper.AuthWrapper(app, maker, RequestExports.makeRequest, this, pool);\r\n        this.app_ = app;\r\n        if (url != null) {\r\n            this.bucket_ = _location.Location.makeFromBucketSpec(url);\r\n        } else {\r\n            var authWrapperBucket = this.authWrapper_.bucket();\r\n            if (authWrapperBucket != null) {\r\n                this.bucket_ = new _location.Location(authWrapperBucket, '');\r\n            }\r\n        }\r\n        this.internals_ = new ServiceInternals(this);\r\n    }\r\n    /**\r\n     * Returns a firebaseStorage.Reference for the given path in the default\r\n     * bucket.\r\n     */\r\n    Service.prototype.ref = function (path) {\r\n        function validator(path) {\r\n            if (/^[A-Za-z]+:\\/\\//.test(path)) {\r\n                throw 'Expected child path but got a URL, use refFromURL instead.';\r\n            }\r\n        }\r\n        args.validate('ref', [args.stringSpec(validator, true)], arguments);\r\n        if (this.bucket_ == null) {\r\n            throw new Error('No Storage Bucket defined in Firebase Options.');\r\n        }\r\n        var ref = new _reference.Reference(this.authWrapper_, this.bucket_);\r\n        if (path != null) {\r\n            return ref.child(path);\r\n        } else {\r\n            return ref;\r\n        }\r\n    };\r\n    /**\r\n     * Returns a firebaseStorage.Reference object for the given absolute URL,\r\n     * which must be a gs:// or http[s]:// URL.\r\n     */\r\n    Service.prototype.refFromURL = function (url) {\r\n        function validator(p) {\r\n            if (!/^[A-Za-z]+:\\/\\//.test(p)) {\r\n                throw 'Expected full URL but got a child path, use ref instead.';\r\n            }\r\n            try {\r\n                _location.Location.makeFromUrl(p);\r\n            } catch (e) {\r\n                throw 'Expected valid full URL but got an invalid one.';\r\n            }\r\n        }\r\n        args.validate('refFromURL', [args.stringSpec(validator, false)], arguments);\r\n        return new _reference.Reference(this.authWrapper_, url);\r\n    };\r\n    Object.defineProperty(Service.prototype, \"maxUploadRetryTime\", {\r\n        get: function get() {\r\n            return this.authWrapper_.maxUploadRetryTime();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Service.prototype.setMaxUploadRetryTime = function (time) {\r\n        args.validate('setMaxUploadRetryTime', [args.nonNegativeNumberSpec()], arguments);\r\n        this.authWrapper_.setMaxUploadRetryTime(time);\r\n    };\r\n    Object.defineProperty(Service.prototype, \"maxOperationRetryTime\", {\r\n        get: function get() {\r\n            return this.authWrapper_.maxOperationRetryTime();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Service.prototype.setMaxOperationRetryTime = function (time) {\r\n        args.validate('setMaxOperationRetryTime', [args.nonNegativeNumberSpec()], arguments);\r\n        this.authWrapper_.setMaxOperationRetryTime(time);\r\n    };\r\n    Object.defineProperty(Service.prototype, \"app\", {\r\n        get: function get() {\r\n            return this.app_;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Service.prototype, \"INTERNAL\", {\r\n        get: function get() {\r\n            return this.internals_;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Service;\r\n}();\r\nexports.Service = Service;\r\n/**\r\n * @struct\r\n */\r\n\r\nvar ServiceInternals = function () {\r\n    function ServiceInternals(service) {\r\n        this.service_ = service;\r\n    }\r\n    /**\r\n     * Called when the associated app is deleted.\r\n     * @see {!fbs.AuthWrapper.prototype.deleteApp}\r\n     */\r\n    ServiceInternals.prototype.delete = function () {\r\n        this.service_.authWrapper_.deleteApp();\r\n        return fbsPromiseImpl.resolve(undefined);\r\n    };\r\n    return ServiceInternals;\r\n}();\r\nexports.ServiceInternals = ServiceInternals;\r\n//# sourceMappingURL=service.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/service.js\n// module id = 544\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.AuthWrapper = undefined;\r\n\r\nvar _constants = require('./constants');\r\n\r\nvar constants = _interopRequireWildcard(_constants);\r\n\r\nvar _error2 = require('./error');\r\n\r\nvar errorsExports = _interopRequireWildcard(_error2);\r\n\r\nvar _failrequest = require('./failrequest');\r\n\r\nvar _location = require('./location');\r\n\r\nvar _promise_external = require('./promise_external');\r\n\r\nvar promiseimpl = _interopRequireWildcard(_promise_external);\r\n\r\nvar _requestmap = require('./requestmap');\r\n\r\nvar _type = require('./type');\r\n\r\nvar type = _interopRequireWildcard(_type);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\n/**\r\n * @param app If null, getAuthToken always resolves with null.\r\n * @param service The storage service associated with this auth wrapper.\r\n *     Untyped to avoid circular type dependencies.\r\n * @struct\r\n */\r\nvar AuthWrapper = function () {\r\n    function AuthWrapper(app, maker, requestMaker, service, pool) {\r\n        this.bucket_ = null;\r\n        this.deleted_ = false;\r\n        this.app_ = app;\r\n        if (this.app_ !== null) {\r\n            var options = this.app_.options;\r\n            if (type.isDef(options)) {\r\n                this.bucket_ = AuthWrapper.extractBucket_(options);\r\n            }\r\n        }\r\n        this.storageRefMaker_ = maker;\r\n        this.requestMaker_ = requestMaker;\r\n        this.pool_ = pool;\r\n        this.service_ = service;\r\n        this.maxOperationRetryTime_ = constants.defaultMaxOperationRetryTime;\r\n        this.maxUploadRetryTime_ = constants.defaultMaxUploadRetryTime;\r\n        this.requestMap_ = new _requestmap.RequestMap();\r\n    }\r\n    AuthWrapper.extractBucket_ = function (config) {\r\n        var bucketString = config[constants.configOption] || null;\r\n        if (bucketString == null) {\r\n            return null;\r\n        }\r\n        var loc = _location.Location.makeFromBucketSpec(bucketString);\r\n        return loc.bucket;\r\n    };\r\n    AuthWrapper.prototype.getAuthToken = function () {\r\n        // TODO(andysoto): remove ifDef checks after firebase-app implements stubs\r\n        // (b/28673818).\r\n        if (this.app_ !== null && type.isDef(this.app_.INTERNAL) && type.isDef(this.app_.INTERNAL.getToken)) {\r\n            return this.app_.INTERNAL.getToken().then(function (response) {\r\n                if (response !== null) {\r\n                    return response.accessToken;\r\n                } else {\r\n                    return null;\r\n                }\r\n            }, function (_error) {\r\n                return null;\r\n            });\r\n        } else {\r\n            return promiseimpl.resolve(null);\r\n        }\r\n    };\r\n    AuthWrapper.prototype.bucket = function () {\r\n        if (this.deleted_) {\r\n            throw errorsExports.appDeleted();\r\n        } else {\r\n            return this.bucket_;\r\n        }\r\n    };\r\n    /**\r\n     * The service associated with this auth wrapper. Untyped to avoid circular\r\n     * type dependencies.\r\n     */\r\n    AuthWrapper.prototype.service = function () {\r\n        return this.service_;\r\n    };\r\n    /**\r\n     * Returns a new firebaseStorage.Reference object referencing this AuthWrapper\r\n     * at the given Location.\r\n     * @param loc The Location.\r\n     * @return Actually a firebaseStorage.Reference, typing not allowed\r\n     *     because of circular dependency problems.\r\n     */\r\n    AuthWrapper.prototype.makeStorageReference = function (loc) {\r\n        return this.storageRefMaker_(this, loc);\r\n    };\r\n    AuthWrapper.prototype.makeRequest = function (requestInfo, authToken) {\r\n        if (!this.deleted_) {\r\n            var request = this.requestMaker_(requestInfo, authToken, this.pool_);\r\n            this.requestMap_.addRequest(request);\r\n            return request;\r\n        } else {\r\n            return new _failrequest.FailRequest(errorsExports.appDeleted());\r\n        }\r\n    };\r\n    /**\r\n     * Stop running requests and prevent more from being created.\r\n     */\r\n    AuthWrapper.prototype.deleteApp = function () {\r\n        this.deleted_ = true;\r\n        this.app_ = null;\r\n        this.requestMap_.clear();\r\n    };\r\n    AuthWrapper.prototype.maxUploadRetryTime = function () {\r\n        return this.maxUploadRetryTime_;\r\n    };\r\n    AuthWrapper.prototype.setMaxUploadRetryTime = function (time) {\r\n        this.maxUploadRetryTime_ = time;\r\n    };\r\n    AuthWrapper.prototype.maxOperationRetryTime = function () {\r\n        return this.maxOperationRetryTime_;\r\n    };\r\n    AuthWrapper.prototype.setMaxOperationRetryTime = function (time) {\r\n        this.maxOperationRetryTime_ = time;\r\n    };\r\n    return AuthWrapper;\r\n}();\r\nexports.AuthWrapper = AuthWrapper;\r\n//# sourceMappingURL=authwrapper.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/authwrapper.js\n// module id = 545\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.FailRequest = undefined;\r\n\r\nvar _promise_external = require('./promise_external');\r\n\r\nvar promiseimpl = _interopRequireWildcard(_promise_external);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\n/**\r\n * A request whose promise always fails.\r\n * @struct\r\n * @template T\r\n */\r\nvar FailRequest = function () {\r\n    function FailRequest(error) {\r\n        this.promise_ = promiseimpl.reject(error);\r\n    }\r\n    /** @inheritDoc */\r\n    FailRequest.prototype.getPromise = function () {\r\n        return this.promise_;\r\n    };\r\n    /** @inheritDoc */\r\n    FailRequest.prototype.cancel = function (appDelete) {\r\n        if (appDelete === void 0) {\r\n            appDelete = false;\r\n        }\r\n    };\r\n    return FailRequest;\r\n}();\r\nexports.FailRequest = FailRequest;\r\n//# sourceMappingURL=failrequest.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/failrequest.js\n// module id = 546\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.RequestMap = undefined;\r\n\r\nvar _object = require('./object');\r\n\r\nvar object = _interopRequireWildcard(_object);\r\n\r\nvar _constants = require('./constants');\r\n\r\nvar constants = _interopRequireWildcard(_constants);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\n/**\r\n * @struct\r\n */\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\nvar RequestMap = function () {\r\n    function RequestMap() {\r\n        this.map_ = {};\r\n        this.id_ = constants.minSafeInteger;\r\n    }\r\n    /**\r\n     * Registers the given request with this map.\r\n     * The request is unregistered when it completes.\r\n     * @param r The request to register.\r\n     */\r\n    RequestMap.prototype.addRequest = function (r) {\r\n        var id = this.id_;\r\n        this.id_++;\r\n        this.map_[id] = r;\r\n        var self = this;\r\n        function unmap() {\r\n            delete self.map_[id];\r\n        }\r\n        r.getPromise().then(unmap, unmap);\r\n    };\r\n    /**\r\n     * Cancels all registered requests.\r\n     */\r\n    RequestMap.prototype.clear = function () {\r\n        object.forEach(this.map_, function (key, val) {\r\n            if (val) {\r\n                val.cancel(true);\r\n            }\r\n        });\r\n        this.map_ = {};\r\n    };\r\n    return RequestMap;\r\n}();\r\nexports.RequestMap = RequestMap;\r\n//# sourceMappingURL=requestmap.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/requestmap.js\n// module id = 547\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.RequestEndStatus = undefined;\r\nexports.addAuthHeader_ = addAuthHeader_;\r\nexports.addVersionHeader_ = addVersionHeader_;\r\nexports.makeRequest = makeRequest;\r\n\r\nvar _array = require('./array');\r\n\r\nvar array = _interopRequireWildcard(_array);\r\n\r\nvar _backoff = require('./backoff');\r\n\r\nvar backoff = _interopRequireWildcard(_backoff);\r\n\r\nvar _error = require('./error');\r\n\r\nvar errorsExports = _interopRequireWildcard(_error);\r\n\r\nvar _object = require('./object');\r\n\r\nvar object = _interopRequireWildcard(_object);\r\n\r\nvar _promise_external = require('./promise_external');\r\n\r\nvar promiseimpl = _interopRequireWildcard(_promise_external);\r\n\r\nvar _type = require('./type');\r\n\r\nvar type = _interopRequireWildcard(_type);\r\n\r\nvar _url = require('./url');\r\n\r\nvar UrlUtils = _interopRequireWildcard(_url);\r\n\r\nvar _xhrio = require('./xhrio');\r\n\r\nvar XhrIoExports = _interopRequireWildcard(_xhrio);\r\n\r\nvar _app = require('../../app');\r\n\r\nvar _app2 = _interopRequireDefault(_app);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\n/**\r\n * @struct\r\n * @template T\r\n */\r\nvar NetworkRequest = function () {\r\n    function NetworkRequest(url, method, headers, body, successCodes, additionalRetryCodes, callback, errorCallback, timeout, progressCallback, pool) {\r\n        this.pendingXhr_ = null;\r\n        this.backoffId_ = null;\r\n        this.resolve_ = null;\r\n        this.reject_ = null;\r\n        this.canceled_ = false;\r\n        this.appDelete_ = false;\r\n        this.url_ = url;\r\n        this.method_ = method;\r\n        this.headers_ = headers;\r\n        this.body_ = body;\r\n        this.successCodes_ = successCodes.slice();\r\n        this.additionalRetryCodes_ = additionalRetryCodes.slice();\r\n        this.callback_ = callback;\r\n        this.errorCallback_ = errorCallback;\r\n        this.progressCallback_ = progressCallback;\r\n        this.timeout_ = timeout;\r\n        this.pool_ = pool;\r\n        var self = this;\r\n        this.promise_ = promiseimpl.make(function (resolve, reject) {\r\n            self.resolve_ = resolve;\r\n            self.reject_ = reject;\r\n            self.start_();\r\n        });\r\n    }\r\n    /**\r\n     * Actually starts the retry loop.\r\n     */\r\n    NetworkRequest.prototype.start_ = function () {\r\n        var self = this;\r\n        function doTheRequest(backoffCallback, canceled) {\r\n            if (canceled) {\r\n                backoffCallback(false, new RequestEndStatus(false, null, true));\r\n                return;\r\n            }\r\n            var xhr = self.pool_.createXhrIo();\r\n            self.pendingXhr_ = xhr;\r\n            function progressListener(progressEvent) {\r\n                var loaded = progressEvent.loaded;\r\n                var total = progressEvent.lengthComputable ? progressEvent.total : -1;\r\n                if (self.progressCallback_ !== null) {\r\n                    self.progressCallback_(loaded, total);\r\n                }\r\n            }\r\n            if (self.progressCallback_ !== null) {\r\n                xhr.addUploadProgressListener(progressListener);\r\n            }\r\n            xhr.send(self.url_, self.method_, self.body_, self.headers_).then(function (xhr) {\r\n                if (self.progressCallback_ !== null) {\r\n                    xhr.removeUploadProgressListener(progressListener);\r\n                }\r\n                self.pendingXhr_ = null;\r\n                xhr = xhr;\r\n                var hitServer = xhr.getErrorCode() === XhrIoExports.ErrorCode.NO_ERROR;\r\n                var status = xhr.getStatus();\r\n                if (!hitServer || self.isRetryStatusCode_(status)) {\r\n                    var wasCanceled = xhr.getErrorCode() === XhrIoExports.ErrorCode.ABORT;\r\n                    backoffCallback(false, new RequestEndStatus(false, null, wasCanceled));\r\n                    return;\r\n                }\r\n                var successCode = array.contains(self.successCodes_, status);\r\n                backoffCallback(true, new RequestEndStatus(successCode, xhr));\r\n            });\r\n        }\r\n        /**\r\n         * @param requestWentThrough True if the request eventually went\r\n         *     through, false if it hit the retry limit or was canceled.\r\n         */\r\n        function backoffDone(requestWentThrough, status) {\r\n            var resolve = self.resolve_;\r\n            var reject = self.reject_;\r\n            var xhr = status.xhr;\r\n            if (status.wasSuccessCode) {\r\n                try {\r\n                    var result = self.callback_(xhr, xhr.getResponseText());\r\n                    if (type.isJustDef(result)) {\r\n                        resolve(result);\r\n                    } else {\r\n                        resolve();\r\n                    }\r\n                } catch (e) {\r\n                    reject(e);\r\n                }\r\n            } else {\r\n                if (xhr !== null) {\r\n                    var err = errorsExports.unknown();\r\n                    err.setServerResponseProp(xhr.getResponseText());\r\n                    if (self.errorCallback_) {\r\n                        reject(self.errorCallback_(xhr, err));\r\n                    } else {\r\n                        reject(err);\r\n                    }\r\n                } else {\r\n                    if (status.canceled) {\r\n                        var err = self.appDelete_ ? errorsExports.appDeleted() : errorsExports.canceled();\r\n                        reject(err);\r\n                    } else {\r\n                        var err = errorsExports.retryLimitExceeded();\r\n                        reject(err);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (this.canceled_) {\r\n            backoffDone(false, new RequestEndStatus(false, null, true));\r\n        } else {\r\n            this.backoffId_ = backoff.start(doTheRequest, backoffDone, this.timeout_);\r\n        }\r\n    };\r\n    /** @inheritDoc */\r\n    NetworkRequest.prototype.getPromise = function () {\r\n        return this.promise_;\r\n    };\r\n    /** @inheritDoc */\r\n    NetworkRequest.prototype.cancel = function (appDelete) {\r\n        this.canceled_ = true;\r\n        this.appDelete_ = appDelete || false;\r\n        if (this.backoffId_ !== null) {\r\n            backoff.stop(this.backoffId_);\r\n        }\r\n        if (this.pendingXhr_ !== null) {\r\n            this.pendingXhr_.abort();\r\n        }\r\n    };\r\n    NetworkRequest.prototype.isRetryStatusCode_ = function (status) {\r\n        // The codes for which to retry came from this page:\r\n        // https://cloud.google.com/storage/docs/exponential-backoff\r\n        var isFiveHundredCode = status >= 500 && status < 600;\r\n        var extraRetryCodes = [\r\n        // Request Timeout: web server didn't receive full request in time.\r\n        408,\r\n        // Too Many Requests: you're getting rate-limited, basically.\r\n        429];\r\n        var isExtraRetryCode = array.contains(extraRetryCodes, status);\r\n        var isRequestSpecificRetryCode = array.contains(this.additionalRetryCodes_, status);\r\n        return isFiveHundredCode || isExtraRetryCode || isRequestSpecificRetryCode;\r\n    };\r\n    return NetworkRequest;\r\n}();\r\n/**\r\n * A collection of information about the result of a network request.\r\n * @param opt_canceled Defaults to false.\r\n * @struct\r\n */\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n/**\r\n * @fileoverview Defines methods used to actually send HTTP requests from\r\n * abstract representations.\r\n */\r\nvar RequestEndStatus = function () {\r\n    function RequestEndStatus(wasSuccessCode, xhr, opt_canceled) {\r\n        this.wasSuccessCode = wasSuccessCode;\r\n        this.xhr = xhr;\r\n        this.canceled = !!opt_canceled;\r\n    }\r\n    return RequestEndStatus;\r\n}();\r\nexports.RequestEndStatus = RequestEndStatus;\r\nfunction addAuthHeader_(headers, authToken) {\r\n    if (authToken !== null && authToken.length > 0) {\r\n        headers['Authorization'] = 'Firebase ' + authToken;\r\n    }\r\n}\r\nfunction addVersionHeader_(headers) {\r\n    var number = typeof _app2.default !== 'undefined' ? _app2.default.SDK_VERSION : 'AppManager';\r\n    headers['X-Firebase-Storage-Version'] = 'webjs/' + number;\r\n}\r\n/**\r\n * @template T\r\n */\r\nfunction makeRequest(requestInfo, authToken, pool) {\r\n    var queryPart = UrlUtils.makeQueryString(requestInfo.urlParams);\r\n    var url = requestInfo.url + queryPart;\r\n    var headers = object.clone(requestInfo.headers);\r\n    addAuthHeader_(headers, authToken);\r\n    addVersionHeader_(headers);\r\n    return new NetworkRequest(url, requestInfo.method, headers, requestInfo.body, requestInfo.successCodes, requestInfo.additionalRetryCodes, requestInfo.handler, requestInfo.errorHandler, requestInfo.timeout, requestInfo.progressCallback, pool);\r\n}\r\n//# sourceMappingURL=request.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/request.js\n// module id = 548\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.start = start;\r\nexports.stop = stop;\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n/**\r\n * @param f May be invoked\r\n *     before the function returns.\r\n * @param callback Get all the arguments passed to the function\r\n *     passed to f, including the initial boolean.\r\n */\r\nfunction start(f, callback, timeout) {\r\n    // TODO(andysoto): make this code cleaner (probably refactor into an actual\r\n    // type instead of a bunch of functions with state shared in the closure)\r\n    var waitSeconds = 1;\r\n    // Would type this as \"number\" but that doesn't work for Node so ¯\\_(ツ)_/¯\r\n    var timeoutId = null;\r\n    var hitTimeout = false;\r\n    var cancelState = 0;\r\n    function canceled() {\r\n        return cancelState === 2;\r\n    }\r\n    var triggeredCallback = false;\r\n    function triggerCallback() {\r\n        if (!triggeredCallback) {\r\n            triggeredCallback = true;\r\n            callback.apply(null, arguments);\r\n        }\r\n    }\r\n    function callWithDelay(millis) {\r\n        timeoutId = setTimeout(function () {\r\n            timeoutId = null;\r\n            f(handler, canceled());\r\n        }, millis);\r\n    }\r\n    function handler(success) {\r\n        var var_args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            var_args[_i - 1] = arguments[_i];\r\n        }\r\n        if (triggeredCallback) {\r\n            return;\r\n        }\r\n        if (success) {\r\n            triggerCallback.apply(null, arguments);\r\n            return;\r\n        }\r\n        var mustStop = canceled() || hitTimeout;\r\n        if (mustStop) {\r\n            triggerCallback.apply(null, arguments);\r\n            return;\r\n        }\r\n        if (waitSeconds < 64) {\r\n            /* TODO(andysoto): don't back off so quickly if we know we're offline. */\r\n            waitSeconds *= 2;\r\n        }\r\n        var waitMillis;\r\n        if (cancelState === 1) {\r\n            cancelState = 2;\r\n            waitMillis = 0;\r\n        } else {\r\n            waitMillis = (waitSeconds + Math.random()) * 1000;\r\n        }\r\n        callWithDelay(waitMillis);\r\n    }\r\n    var stopped = false;\r\n    function stop(wasTimeout) {\r\n        if (stopped) {\r\n            return;\r\n        }\r\n        stopped = true;\r\n        if (triggeredCallback) {\r\n            return;\r\n        }\r\n        if (timeoutId !== null) {\r\n            if (!wasTimeout) {\r\n                cancelState = 2;\r\n            }\r\n            clearTimeout(timeoutId);\r\n            callWithDelay(0);\r\n        } else {\r\n            if (!wasTimeout) {\r\n                cancelState = 1;\r\n            }\r\n        }\r\n    }\r\n    callWithDelay(0);\r\n    setTimeout(function () {\r\n        hitTimeout = true;\r\n        stop(true);\r\n    }, timeout);\r\n    return stop;\r\n}\r\n/**\r\n * Stops the retry loop from repeating.\r\n * If the function is currently \"in between\" retries, it is invoked immediately\r\n * with the second parameter as \"true\". Otherwise, it will be invoked once more\r\n * after the current invocation finishes iff the current invocation would have\r\n * triggered another retry.\r\n */\r\nfunction stop(id) {\r\n    id(false);\r\n}\r\n//# sourceMappingURL=backoff.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/storage/implementation/backoff.js\n// module id = 549\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.registerMessaging = registerMessaging;\r\n\r\nvar _windowController = require('./messaging/controllers/window-controller');\r\n\r\nvar _windowController2 = _interopRequireDefault(_windowController);\r\n\r\nvar _swController = require('./messaging/controllers/sw-controller');\r\n\r\nvar _swController2 = _interopRequireDefault(_swController);\r\n\r\nvar _app = require('./app');\r\n\r\nvar _app2 = _interopRequireDefault(_app);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction registerMessaging(instance) {\r\n    var messagingName = 'messaging';\r\n    var factoryMethod = function factoryMethod(app) {\r\n        if (self && 'ServiceWorkerGlobalScope' in self) {\r\n            return new _swController2.default(app);\r\n        }\r\n        // Assume we are in the window context.\r\n        return new _windowController2.default(app);\r\n    };\r\n    var namespaceExports = {\r\n        // no-inline\r\n        Messaging: _windowController2.default\r\n    };\r\n    instance.INTERNAL.registerService(messagingName, factoryMethod, namespaceExports);\r\n}\r\nregisterMessaging(_app2.default);\r\n//# sourceMappingURL=messaging.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/messaging.js\n// module id = 550\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\n\r\nvar _controllerInterface = require('./controller-interface');\r\n\r\nvar _controllerInterface2 = _interopRequireDefault(_controllerInterface);\r\n\r\nvar _errors = require('../models/errors');\r\n\r\nvar _errors2 = _interopRequireDefault(_errors);\r\n\r\nvar _workerPageMessage = require('../models/worker-page-message');\r\n\r\nvar _workerPageMessage2 = _interopRequireDefault(_workerPageMessage);\r\n\r\nvar _defaultSw = require('../models/default-sw');\r\n\r\nvar _defaultSw2 = _interopRequireDefault(_defaultSw);\r\n\r\nvar _notificationPermission = require('../models/notification-permission');\r\n\r\nvar _notificationPermission2 = _interopRequireDefault(_notificationPermission);\r\n\r\nvar _subscribe = require('../../app/subscribe');\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar __extends = undefined && undefined.__extends || function () {\r\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\r\n        d.__proto__ = b;\r\n    } || function (d, b) {\r\n        for (var p in b) {\r\n            if (b.hasOwnProperty(p)) d[p] = b[p];\r\n        }\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() {\r\n            this.constructor = d;\r\n        }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n}();\r\n\r\nvar WindowController = function (_super) {\r\n    __extends(WindowController, _super);\r\n    /**\r\n     * A service that provides a MessagingService instance.\r\n     * @param {!firebase.app.App} app\r\n     */\r\n    function WindowController(app) {\r\n        var _this = _super.call(this, app) || this;\r\n        /**\r\n         * @private\r\n         * @type {ServiceWorkerRegistration}\r\n         */\r\n        _this.registrationToUse_;\r\n        /**\r\n         * @private\r\n         * @type {Promise}\r\n         */\r\n        _this.manifestCheckPromise_;\r\n        /**\r\n         * @private\r\n         * @type {firebase.Observer}\r\n         */\r\n        _this.messageObserver_ = null;\r\n        /**\r\n         * @private {!firebase.Subscribe} The subscribe function to the onMessage\r\n         * observer.\r\n         */\r\n        _this.onMessage_ = (0, _subscribe.createSubscribe)(function (observer) {\r\n            _this.messageObserver_ = observer;\r\n        });\r\n        /**\r\n         * @private\r\n         * @type {firebase.Observer}\r\n         */\r\n        _this.tokenRefreshObserver_ = null;\r\n        _this.onTokenRefresh_ = (0, _subscribe.createSubscribe)(function (observer) {\r\n            _this.tokenRefreshObserver_ = observer;\r\n        });\r\n        _this.setupSWMessageListener_();\r\n        return _this;\r\n    }\r\n    /**\r\n     * This method returns an FCM token if it can be generated.\r\n     * The return promise will reject if the browser doesn't support\r\n     * FCM, if permission is denied for notifications or it's not\r\n     * possible to generate a token.\r\n     * @export\r\n     * @return {Promise<string> | Promise<null>} Returns a promise the\r\n     * resolves to an FCM token or null if permission isn't granted.\r\n     */\r\n    WindowController.prototype.getToken = function () {\r\n        var _this = this;\r\n        // Check that the required API's are available\r\n        if (!this.isSupported_()) {\r\n            return Promise.reject(this.errorFactory_.create(_errors2.default.codes.UNSUPPORTED_BROWSER));\r\n        }\r\n        return this.manifestCheck_().then(function () {\r\n            return _super.prototype.getToken.call(_this);\r\n        });\r\n    };\r\n    /**\r\n     * The method checks that a manifest is defined and has the correct GCM\r\n     * sender ID.\r\n     * @private\r\n     * @return {Promise} Returns a promise that resolves if the manifest matches\r\n     * our required sender ID\r\n     */\r\n    WindowController.prototype.manifestCheck_ = function () {\r\n        var _this = this;\r\n        if (this.manifestCheckPromise_) {\r\n            return this.manifestCheckPromise_;\r\n        }\r\n        var manifestTag = document.querySelector('link[rel=\"manifest\"]');\r\n        if (!manifestTag) {\r\n            this.manifestCheckPromise_ = Promise.resolve();\r\n        } else {\r\n            this.manifestCheckPromise_ = fetch(manifestTag.href).then(function (response) {\r\n                return response.json();\r\n            }).catch(function () {\r\n                // If the download or parsing fails allow check.\r\n                // We only want to error if we KNOW that the gcm_sender_id is incorrect.\r\n                return Promise.resolve();\r\n            }).then(function (manifestContent) {\r\n                if (!manifestContent) {\r\n                    return;\r\n                }\r\n                if (!manifestContent['gcm_sender_id']) {\r\n                    return;\r\n                }\r\n                if (manifestContent['gcm_sender_id'] !== '103953800507') {\r\n                    throw _this.errorFactory_.create(_errors2.default.codes.INCORRECT_GCM_SENDER_ID);\r\n                }\r\n            });\r\n        }\r\n        return this.manifestCheckPromise_;\r\n    };\r\n    /**\r\n     * Request permission if it is not currently granted\r\n     * @export\r\n     * @returns {Promise} Resolves if the permission was granted, otherwise\r\n     * rejects\r\n     */\r\n    WindowController.prototype.requestPermission = function () {\r\n        var _this = this;\r\n        if (Notification.permission === _notificationPermission2.default.granted) {\r\n            return Promise.resolve();\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            var managePermissionResult = function managePermissionResult(result) {\r\n                if (result === _notificationPermission2.default.granted) {\r\n                    return resolve();\r\n                } else if (result === _notificationPermission2.default.denied) {\r\n                    return reject(_this.errorFactory_.create(_errors2.default.codes.PERMISSION_BLOCKED));\r\n                } else {\r\n                    return reject(_this.errorFactory_.create(_errors2.default.codes.PERMISSION_DEFAULT));\r\n                }\r\n            };\r\n            // The Notification.requestPermission API was changed to\r\n            // return a promise so now have to handle both in case\r\n            // browsers stop support callbacks for promised version\r\n            var permissionPromise = Notification.requestPermission(function (result) {\r\n                if (permissionPromise) {\r\n                    // Let the promise manage this\r\n                    return;\r\n                }\r\n                managePermissionResult(result);\r\n            });\r\n            if (permissionPromise) {\r\n                // Prefer the promise version as it's the future API.\r\n                permissionPromise.then(managePermissionResult);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * This method allows a developer to override the default service worker and\r\n     * instead use a custom service worker.\r\n     * @export\r\n     * @param {!ServiceWorkerRegistration} registration The service worker\r\n     * registration that should be used to receive the push messages.\r\n     */\r\n    WindowController.prototype.useServiceWorker = function (registration) {\r\n        if (!(registration instanceof ServiceWorkerRegistration)) {\r\n            throw this.errorFactory_.create(_errors2.default.codes.SW_REGISTRATION_EXPECTED);\r\n        }\r\n        if (typeof this.registrationToUse_ !== 'undefined') {\r\n            throw this.errorFactory_.create(_errors2.default.codes.USE_SW_BEFORE_GET_TOKEN);\r\n        }\r\n        this.registrationToUse_ = registration;\r\n    };\r\n    /**\r\n     * @export\r\n     * @param {!firebase.Observer|function(*)} nextOrObserver An observer object\r\n     * or a function triggered on message.\r\n     * @param {function(!Error)=} optError Optional A function triggered on\r\n     * message error.\r\n     * @param {function()=} optCompleted Optional function triggered when the\r\n     * observer is removed.\r\n     * @return {!function()} The unsubscribe function for the observer.\r\n     */\r\n    WindowController.prototype.onMessage = function (nextOrObserver, optError, optCompleted) {\r\n        return this.onMessage_(nextOrObserver, optError, optCompleted);\r\n    };\r\n    /**\r\n     * @export\r\n     * @param {!firebase.Observer|function()} nextOrObserver An observer object\r\n     * or a function triggered on token refresh.\r\n     * @param {function(!Error)=} optError Optional A function\r\n     * triggered on token refresh error.\r\n     * @param {function()=} optCompleted Optional function triggered when the\r\n     * observer is removed.\r\n     * @return {!function()} The unsubscribe function for the observer.\r\n     */\r\n    WindowController.prototype.onTokenRefresh = function (nextOrObserver, optError, optCompleted) {\r\n        return this.onTokenRefresh_(nextOrObserver, optError, optCompleted);\r\n    };\r\n    /**\r\n     * Given a registration, wait for the service worker it relates to\r\n     * become activer\r\n     * @private\r\n     * @param  {ServiceWorkerRegistration} registration Registration to wait\r\n     * for service worker to become active\r\n     * @return {Promise<!ServiceWorkerRegistration>} Wait for service worker\r\n     * registration to become active\r\n     */\r\n    WindowController.prototype.waitForRegistrationToActivate_ = function (registration) {\r\n        var _this = this;\r\n        var serviceWorker = registration.installing || registration.waiting || registration.active;\r\n        return new Promise(function (resolve, reject) {\r\n            if (!serviceWorker) {\r\n                // This is a rare scenario but has occured in firefox\r\n                reject(_this.errorFactory_.create(_errors2.default.codes.NO_SW_IN_REG));\r\n                return;\r\n            }\r\n            // Because the Promise function is called on next tick there is a\r\n            // small chance that the worker became active or redundant already.\r\n            if (serviceWorker.state === 'activated') {\r\n                resolve(registration);\r\n                return;\r\n            }\r\n            if (serviceWorker.state === 'redundant') {\r\n                reject(_this.errorFactory_.create(_errors2.default.codes.SW_REG_REDUNDANT));\r\n                return;\r\n            }\r\n            var stateChangeListener = function stateChangeListener() {\r\n                if (serviceWorker.state === 'activated') {\r\n                    resolve(registration);\r\n                } else if (serviceWorker.state === 'redundant') {\r\n                    reject(_this.errorFactory_.create(_errors2.default.codes.SW_REG_REDUNDANT));\r\n                } else {\r\n                    // Return early and wait to next state change\r\n                    return;\r\n                }\r\n                serviceWorker.removeEventListener('statechange', stateChangeListener);\r\n            };\r\n            serviceWorker.addEventListener('statechange', stateChangeListener);\r\n        });\r\n    };\r\n    /**\r\n     * This will regiater the default service worker and return the registration\r\n     * @private\r\n     * @return {Promise<!ServiceWorkerRegistration>} The service worker\r\n     * registration to be used for the push service.\r\n     */\r\n    WindowController.prototype.getSWRegistration_ = function () {\r\n        var _this = this;\r\n        if (this.registrationToUse_) {\r\n            return this.waitForRegistrationToActivate_(this.registrationToUse_);\r\n        }\r\n        // Make the registration null so we know useServiceWorker will not\r\n        // use a new service worker as registrationToUse_ is no longer undefined\r\n        this.registrationToUse_ = null;\r\n        return navigator.serviceWorker.register(_defaultSw2.default.path, {\r\n            scope: _defaultSw2.default.scope\r\n        }).catch(function (err) {\r\n            throw _this.errorFactory_.create(_errors2.default.codes.FAILED_DEFAULT_REGISTRATION, {\r\n                browserErrorMessage: err.message\r\n            });\r\n        }).then(function (registration) {\r\n            return _this.waitForRegistrationToActivate_(registration).then(function () {\r\n                _this.registrationToUse_ = registration;\r\n                // We update after activation due to an issue with Firefox v49 where\r\n                // a race condition occassionally causes the service work to not\r\n                // install\r\n                registration.update();\r\n                return registration;\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * This method will set up a message listener to handle\r\n     * events from the service worker that should trigger\r\n     * events in the page.\r\n     *\r\n     * @private\r\n     */\r\n    WindowController.prototype.setupSWMessageListener_ = function () {\r\n        var _this = this;\r\n        if (!('serviceWorker' in navigator)) {\r\n            return;\r\n        }\r\n        navigator.serviceWorker.addEventListener('message', function (event) {\r\n            if (!event.data || !event.data[_workerPageMessage2.default.PARAMS.TYPE_OF_MSG]) {\r\n                // Not a message from FCM\r\n                return;\r\n            }\r\n            var workerPageMessage = event.data;\r\n            switch (workerPageMessage[_workerPageMessage2.default.PARAMS.TYPE_OF_MSG]) {\r\n                case _workerPageMessage2.default.TYPES_OF_MSG.PUSH_MSG_RECEIVED:\r\n                case _workerPageMessage2.default.TYPES_OF_MSG.NOTIFICATION_CLICKED:\r\n                    var pushMessage = workerPageMessage[_workerPageMessage2.default.PARAMS.DATA];\r\n                    _this.messageObserver_.next(pushMessage);\r\n                    break;\r\n                default:\r\n                    // Noop.\r\n                    break;\r\n            }\r\n        }, false);\r\n    };\r\n    /**\r\n     * Checks to see if the required API's are valid or not.\r\n     * @private\r\n     * @return {boolean} Returns true if the desired APIs are available.\r\n     */\r\n    WindowController.prototype.isSupported_ = function () {\r\n        return 'serviceWorker' in navigator && 'PushManager' in window && 'Notification' in window && 'fetch' in window && ServiceWorkerRegistration.prototype.hasOwnProperty('showNotification') && PushSubscription.prototype.hasOwnProperty('getKey');\r\n    };\r\n    return WindowController;\r\n}(_controllerInterface2.default);\r\nexports.default = WindowController;\r\nmodule.exports = exports['default'];\r\n//# sourceMappingURL=window-controller.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/messaging/controllers/window-controller.js\n// module id = 551\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\n\r\nvar _errors = require('../../app/errors');\r\n\r\nvar _errors2 = require('./errors');\r\n\r\nvar _errors3 = _interopRequireDefault(_errors2);\r\n\r\nvar _arrayBufferToBase = require('../helpers/array-buffer-to-base64');\r\n\r\nvar _arrayBufferToBase2 = _interopRequireDefault(_arrayBufferToBase);\r\n\r\nvar _fcmDetails = require('./fcm-details');\r\n\r\nvar _fcmDetails2 = _interopRequireDefault(_fcmDetails);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar FCM_TOKEN_DETAILS_DB = 'fcm_token_details_db';\r\nvar FCM_TOKEN_OBJ_STORE = 'fcm_token_object_Store';\r\nvar FCM_TOKEN_DETAILS_DB_VERSION = 1;\r\nvar TokenManager = function () {\r\n    function TokenManager() {\r\n        this.errorFactory_ = new _errors.ErrorFactory('messaging', 'Messaging', _errors3.default.map);\r\n        this.openDbPromise_ = null;\r\n    }\r\n    /**\r\n     * Get the indexedDB as a promsie.\r\n     * @private\r\n     * @return {Promise<IDBDatabase>} The IndexedDB database\r\n     */\r\n    TokenManager.prototype.openDatabase_ = function () {\r\n        if (this.openDbPromise_) {\r\n            return this.openDbPromise_;\r\n        }\r\n        this.openDbPromise_ = new Promise(function (resolve, reject) {\r\n            var request = indexedDB.open(FCM_TOKEN_DETAILS_DB, FCM_TOKEN_DETAILS_DB_VERSION);\r\n            request.onerror = function (event) {\r\n                reject(event.target.error);\r\n            };\r\n            request.onsuccess = function (event) {\r\n                resolve(event.target.result);\r\n            };\r\n            request.onupgradeneeded = function (event) {\r\n                var db = event.target.result;\r\n                var objectStore = db.createObjectStore(FCM_TOKEN_OBJ_STORE, {\r\n                    keyPath: 'swScope'\r\n                });\r\n                // Make sure the sender ID can be searched\r\n                objectStore.createIndex('fcmSenderId', 'fcmSenderId', {\r\n                    unique: false\r\n                });\r\n                objectStore.createIndex('fcmToken', 'fcmToken', {\r\n                    unique: true\r\n                });\r\n            };\r\n        });\r\n        return this.openDbPromise_;\r\n    };\r\n    /**\r\n     * Close the currently open database.\r\n     * @return {Promise<?>} Returns the result of the promise chain.\r\n     */\r\n    TokenManager.prototype.closeDatabase = function () {\r\n        var _this = this;\r\n        if (this.openDbPromise_) {\r\n            return this.openDbPromise_.then(function (db) {\r\n                db.close();\r\n                _this.openDbPromise_ = null;\r\n            });\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    /**\r\n     * Given a token, this method will look up the details in indexedDB.\r\n     * @public\r\n     * @param {string} fcmToken\r\n     * @return {Promise<Object>} The details associated with that token.\r\n     */\r\n    TokenManager.prototype.getTokenDetailsFromToken = function (fcmToken) {\r\n        return this.openDatabase_().then(function (db) {\r\n            return new Promise(function (resolve, reject) {\r\n                var transaction = db.transaction([FCM_TOKEN_OBJ_STORE]);\r\n                var objectStore = transaction.objectStore(FCM_TOKEN_OBJ_STORE);\r\n                var index = objectStore.index('fcmToken');\r\n                var request = index.get(fcmToken);\r\n                request.onerror = function (event) {\r\n                    reject(event.target.error);\r\n                };\r\n                request.onsuccess = function (event) {\r\n                    resolve(event.target.result);\r\n                };\r\n            });\r\n        });\r\n    };\r\n    TokenManager.prototype.getTokenDetailsFromSWScope_ = function (swScope) {\r\n        return this.openDatabase_().then(function (db) {\r\n            return new Promise(function (resolve, reject) {\r\n                var transaction = db.transaction([FCM_TOKEN_OBJ_STORE]);\r\n                var objectStore = transaction.objectStore(FCM_TOKEN_OBJ_STORE);\r\n                var scopeRequest = objectStore.get(swScope);\r\n                scopeRequest.onerror = function (event) {\r\n                    reject(event.target.error);\r\n                };\r\n                scopeRequest.onsuccess = function (event) {\r\n                    resolve(event.target.result);\r\n                };\r\n            });\r\n        });\r\n    };\r\n    TokenManager.prototype.getAllTokenDetailsForSenderId_ = function (senderId) {\r\n        return this.openDatabase_().then(function (db) {\r\n            return new Promise(function (resolve, reject) {\r\n                var transaction = db.transaction([FCM_TOKEN_OBJ_STORE]);\r\n                var objectStore = transaction.objectStore(FCM_TOKEN_OBJ_STORE);\r\n                var senderIdTokens = [];\r\n                var cursorRequest = objectStore.openCursor();\r\n                cursorRequest.onerror = function (event) {\r\n                    reject(event.target.error);\r\n                };\r\n                cursorRequest.onsuccess = function (event) {\r\n                    var cursor = event.target.result;\r\n                    if (cursor) {\r\n                        if (cursor.value['fcmSenderId'] === senderId) {\r\n                            senderIdTokens.push(cursor.value);\r\n                        }\r\n                        cursor.continue();\r\n                    } else {\r\n                        resolve(senderIdTokens);\r\n                    }\r\n                };\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Given a PushSubscription and messagingSenderId, get an FCM token.\r\n     * @public\r\n     * @param  {string} senderId The 'messagingSenderId' to tie the token to.\r\n     * @param  {PushSubscription} subscription The PushSusbcription to \"federate\".\r\n     * @param  {string=} pushSet If defined this will swap the subscription for\r\n     * matching FCM token.\r\n     * @return {Promise<!Object>} Returns the FCM token to be used in place\r\n     * of the PushSubscription.\r\n     */\r\n    TokenManager.prototype.subscribeToFCM = function (senderId, subscription, pushSet) {\r\n        var _this = this;\r\n        var p256dh = (0, _arrayBufferToBase2.default)(subscription['getKey']('p256dh'));\r\n        var auth = (0, _arrayBufferToBase2.default)(subscription['getKey']('auth'));\r\n        var fcmSubscribeBody = \"authorized_entity=\" + senderId + \"&\" + (\"endpoint=\" + subscription.endpoint + \"&\") + (\"encryption_key=\" + p256dh + \"&\") + (\"encryption_auth=\" + auth);\r\n        if (pushSet) {\r\n            fcmSubscribeBody += \"&pushSet=\" + pushSet;\r\n        }\r\n        var headers = new Headers();\r\n        headers.append('Content-Type', 'application/x-www-form-urlencoded');\r\n        var subscribeOptions = {\r\n            method: 'POST',\r\n            headers: headers,\r\n            body: fcmSubscribeBody\r\n        };\r\n        return fetch(_fcmDetails2.default.ENDPOINT + '/fcm/connect/subscribe', subscribeOptions).then(function (response) {\r\n            return response.json();\r\n        }).then(function (response) {\r\n            var fcmTokenResponse = response;\r\n            if (fcmTokenResponse['error']) {\r\n                var message = fcmTokenResponse['error']['message'];\r\n                throw _this.errorFactory_.create(_errors3.default.codes.TOKEN_SUBSCRIBE_FAILED, {\r\n                    message: message\r\n                });\r\n            }\r\n            if (!fcmTokenResponse['token']) {\r\n                throw _this.errorFactory_.create(_errors3.default.codes.TOKEN_SUBSCRIBE_NO_TOKEN);\r\n            }\r\n            if (!fcmTokenResponse['pushSet']) {\r\n                throw _this.errorFactory_.create(_errors3.default.codes.TOKEN_SUBSCRIBE_NO_PUSH_SET);\r\n            }\r\n            return {\r\n                token: fcmTokenResponse['token'],\r\n                pushSet: fcmTokenResponse['pushSet']\r\n            };\r\n        });\r\n    };\r\n    /**\r\n     * Checks the that fields in the PushSubscription are equivalent to the\r\n     * details stores in the masterTokenDetails.\r\n     * @private\r\n     * @param  {PushSubscription} subscription The push subscription we expect\r\n     * the master token to match.\r\n     * @param  {Object}  masterTokenDetails The saved details we wish to compare\r\n     * with the PushSubscription\r\n     * @return {boolean} true if the subscription and token details are\r\n     * equivalent.\r\n     */\r\n    TokenManager.prototype.isSameSubscription_ = function (subscription, masterTokenDetails) {\r\n        // getKey() isn't defined in the PushSubscription externs file, hence\r\n        // subscription['getKey']('<key name>').\r\n        return subscription.endpoint === masterTokenDetails['endpoint'] && (0, _arrayBufferToBase2.default)(subscription['getKey']('auth')) === masterTokenDetails['auth'] && (0, _arrayBufferToBase2.default)(subscription['getKey']('p256dh')) === masterTokenDetails['p256dh'];\r\n    };\r\n    /**\r\n     * Save the details for the fcm token for re-use at a later date.\r\n     * @private\r\n     * @param  {string} senderId The 'messagingSenderId' used for this project\r\n     * @param  {ServiceWorkerRegistration} swRegistration The service worker\r\n     * used to subscribe the user for web push\r\n     * @param  {PushSubscription} subscription The push subscription passed to\r\n     * FCM for the current token.\r\n     * @param  {string} fcmToken The FCM token currently used on this\r\n     * device.\r\n     * @param  {string} fcmPushSet The FCM push tied to the fcm token.\r\n     * @return {Promise<void>}\r\n     */\r\n    TokenManager.prototype.saveTokenDetails_ = function (senderId, swRegistration, subscription, fcmToken, fcmPushSet) {\r\n        var details = {\r\n            swScope: swRegistration.scope,\r\n            endpoint: subscription.endpoint,\r\n            auth: (0, _arrayBufferToBase2.default)(subscription['getKey']('auth')),\r\n            p256dh: (0, _arrayBufferToBase2.default)(subscription['getKey']('p256dh')),\r\n            fcmToken: fcmToken,\r\n            fcmPushSet: fcmPushSet,\r\n            fcmSenderId: senderId\r\n        };\r\n        return this.openDatabase_().then(function (db) {\r\n            return new Promise(function (resolve, reject) {\r\n                var transaction = db.transaction([FCM_TOKEN_OBJ_STORE], 'readwrite');\r\n                var objectStore = transaction.objectStore(FCM_TOKEN_OBJ_STORE);\r\n                var request = objectStore.put(details);\r\n                request.onerror = function (event) {\r\n                    reject(event.target.error);\r\n                };\r\n                request.onsuccess = function (event) {\r\n                    resolve();\r\n                };\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Returns the saved FCM Token if one is available and still valid,\r\n     * otherwise `null` is returned.\r\n     * @param {string} senderId This should be the sender ID associated with the\r\n     * FCM Token being retrieved.\r\n     * @param {ServiceWorkerRegistration} swRegistration Registration to be used\r\n     * to subscribe the user to push.\r\n     * @return {Promise<string> | Promise} Returns the saved FCM Token if\r\n     * avilable and valid.\r\n     * @export\r\n     */\r\n    TokenManager.prototype.getSavedToken = function (senderId, swRegistration) {\r\n        var _this = this;\r\n        if (!(swRegistration instanceof ServiceWorkerRegistration)) {\r\n            return Promise.reject(this.errorFactory_.create(_errors3.default.codes.SW_REGISTRATION_EXPECTED));\r\n        }\r\n        if (typeof senderId !== 'string' || senderId.length === 0) {\r\n            return Promise.reject(this.errorFactory_.create(_errors3.default.codes.BAD_SENDER_ID));\r\n        }\r\n        return this.getAllTokenDetailsForSenderId_(senderId).then(function (allTokenDetails) {\r\n            if (allTokenDetails.length === 0) {\r\n                return;\r\n            }\r\n            var index = allTokenDetails.findIndex(function (tokenDetails) {\r\n                return swRegistration.scope === tokenDetails['swScope'] && senderId === tokenDetails['fcmSenderId'];\r\n            });\r\n            if (index === -1) {\r\n                return;\r\n            }\r\n            return allTokenDetails[index];\r\n        }).then(function (tokenDetails) {\r\n            if (!tokenDetails) {\r\n                return;\r\n            }\r\n            return swRegistration.pushManager.getSubscription().catch(function (err) {\r\n                throw _this.errorFactory_.create(_errors3.default.codes.GET_SUBSCRIPTION_FAILED);\r\n            }).then(function (subscription) {\r\n                if (subscription && _this.isSameSubscription_(subscription, tokenDetails)) {\r\n                    return tokenDetails['fcmToken'];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Creates a new FCM token.\r\n     */\r\n    TokenManager.prototype.createToken = function (senderId, swRegistration) {\r\n        var _this = this;\r\n        if (typeof senderId !== 'string' || senderId.length === 0) {\r\n            return Promise.reject(this.errorFactory_.create(_errors3.default.codes.BAD_SENDER_ID));\r\n        }\r\n        if (!(swRegistration instanceof ServiceWorkerRegistration)) {\r\n            return Promise.reject(this.errorFactory_.create(_errors3.default.codes.SW_REGISTRATION_EXPECTED));\r\n        }\r\n        // Check for existing subscription first\r\n        var subscription;\r\n        var fcmTokenDetails;\r\n        return swRegistration.pushManager.getSubscription().then(function (subscription) {\r\n            if (subscription) {\r\n                return subscription;\r\n            }\r\n            return swRegistration.pushManager.subscribe(_fcmDetails2.default.SUBSCRIPTION_OPTIONS);\r\n        }).then(function (sub) {\r\n            subscription = sub;\r\n            return _this.subscribeToFCM(senderId, subscription);\r\n        }).then(function (tokenDetails) {\r\n            fcmTokenDetails = tokenDetails;\r\n            return _this.saveTokenDetails_(senderId, swRegistration, subscription, fcmTokenDetails['token'], fcmTokenDetails['pushSet']);\r\n        }).then(function () {\r\n            return fcmTokenDetails['token'];\r\n        });\r\n    };\r\n    /**\r\n     * This method deletes details of the current FCM token.\r\n     * It's returning a promise in case we need to move to an async\r\n     * method for deleting at a later date.\r\n     * @param {string} token Token to be deleted\r\n     * @return {Promise<Object>} Resolves once the FCM token details have been\r\n     * deleted and returns the deleted details.\r\n     */\r\n    TokenManager.prototype.deleteToken = function (token) {\r\n        var _this = this;\r\n        if (typeof token !== 'string' || token.length === 0) {\r\n            return Promise.reject(this.errorFactory_.create(_errors3.default.codes.INVALID_DELETE_TOKEN));\r\n        }\r\n        return this.getTokenDetailsFromToken(token).then(function (details) {\r\n            if (!details) {\r\n                throw _this.errorFactory_.create(_errors3.default.codes.DELETE_TOKEN_NOT_FOUND);\r\n            }\r\n            return _this.openDatabase_().then(function (db) {\r\n                return new Promise(function (resolve, reject) {\r\n                    var transaction = db.transaction([FCM_TOKEN_OBJ_STORE], 'readwrite');\r\n                    var objectStore = transaction.objectStore(FCM_TOKEN_OBJ_STORE);\r\n                    var request = objectStore.delete(details['swScope']);\r\n                    request.onerror = function (event) {\r\n                        reject(event.target.error);\r\n                    };\r\n                    request.onsuccess = function (event) {\r\n                        if (event.target.result === 0) {\r\n                            reject(_this.errorFactory_.create(_errors3.default.codes.FAILED_TO_DELETE_TOKEN));\r\n                            return;\r\n                        }\r\n                        resolve(details);\r\n                    };\r\n                });\r\n            });\r\n        });\r\n    };\r\n    return TokenManager;\r\n}();\r\nexports.default = TokenManager;\r\nmodule.exports = exports['default'];\r\n//# sourceMappingURL=token-manager.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/messaging/models/token-manager.js\n// module id = 552\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\n\r\nexports.default = function (arrayBuffer) {\r\n    var base64String = toBase64(arrayBuffer);\r\n    return base64String.replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\r\n};\r\n\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\nfunction toBase64(arrayBuffer) {\r\n    var uint8Version = new Uint8Array(arrayBuffer);\r\n    return window.btoa(String.fromCharCode.apply(null, uint8Version));\r\n}\r\n;\r\nmodule.exports = exports['default'];\r\n//# sourceMappingURL=array-buffer-to-base64.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/messaging/helpers/array-buffer-to-base64.js\n// module id = 553\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.default = {\r\n    path: '/firebase-messaging-sw.js',\r\n    scope: '/firebase-cloud-messaging-push-scope'\r\n};\r\nmodule.exports = exports['default'];\r\n//# sourceMappingURL=default-sw.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/messaging/models/default-sw.js\n// module id = 554\n// module chunks = 3 4 5 6","/*! @license Firebase v4.3.1\r\nBuild: rev-b4fe95f\r\nTerms: https://firebase.google.com/terms/ */\r\n\r\n/**\r\n* Copyright 2017 Google Inc.\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _controllerInterface = require('./controller-interface');\r\n\r\nvar _controllerInterface2 = _interopRequireDefault(_controllerInterface);\r\n\r\nvar _errors = require('../models/errors');\r\n\r\nvar _errors2 = _interopRequireDefault(_errors);\r\n\r\nvar _workerPageMessage = require('../models/worker-page-message');\r\n\r\nvar _workerPageMessage2 = _interopRequireDefault(_workerPageMessage);\r\n\r\nvar _fcmDetails = require('../models/fcm-details');\r\n\r\nvar _fcmDetails2 = _interopRequireDefault(_fcmDetails);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar __extends = undefined && undefined.__extends || function () {\r\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\r\n        d.__proto__ = b;\r\n    } || function (d, b) {\r\n        for (var p in b) {\r\n            if (b.hasOwnProperty(p)) d[p] = b[p];\r\n        }\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() {\r\n            this.constructor = d;\r\n        }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n}();\r\n\r\nvar FCM_MSG = 'FCM_MSG';\r\nvar SWController = function (_super) {\r\n    __extends(SWController, _super);\r\n    function SWController(app) {\r\n        var _this = _super.call(this, app) || this;\r\n        self.addEventListener('push', function (e) {\r\n            return _this.onPush_(e);\r\n        }, false);\r\n        self.addEventListener('pushsubscriptionchange', function (e) {\r\n            return _this.onSubChange_(e);\r\n        }, false);\r\n        self.addEventListener('notificationclick', function (e) {\r\n            return _this.onNotificationClick_(e);\r\n        }, false);\r\n        /**\r\n         * @private\r\n         * @type {function(Object)|null}\r\n         */\r\n        _this.bgMessageHandler_ = null;\r\n        return _this;\r\n    }\r\n    /**\r\n    * A handler for push events that shows notifications based on the content of\r\n    * the payload.\r\n    *\r\n    * The payload must be a JSON-encoded Object with a `notification` key. The\r\n    * value of the `notification` property will be used as the NotificationOptions\r\n    * object passed to showNotification. Additionally, the `title` property of the\r\n    * notification object will be used as the title.\r\n    *\r\n    * If there is no notification data in the payload then no notification will be\r\n    * shown.\r\n    * @private\r\n    */\r\n    SWController.prototype.onPush_ = function (event) {\r\n        var _this = this;\r\n        var msgPayload;\r\n        try {\r\n            msgPayload = event.data.json();\r\n        } catch (err) {\r\n            // Not JSON so not an FCM message\r\n            return;\r\n        }\r\n        var handleMsgPromise = this.hasVisibleClients_().then(function (hasVisibleClients) {\r\n            if (hasVisibleClients) {\r\n                // Do not need to show a notification.\r\n                if (msgPayload.notification || _this.bgMessageHandler_) {\r\n                    // Send to page\r\n                    return _this.sendMessageToWindowClients_(msgPayload);\r\n                }\r\n                return;\r\n            }\r\n            var notificationDetails = _this.getNotificationData_(msgPayload);\r\n            if (notificationDetails) {\r\n                var notificationTitle = notificationDetails.title || '';\r\n                return self.registration.showNotification(notificationTitle, notificationDetails);\r\n            } else if (_this.bgMessageHandler_) {\r\n                return _this.bgMessageHandler_(msgPayload);\r\n            }\r\n        });\r\n        event.waitUntil(handleMsgPromise);\r\n    };\r\n    /**\r\n    * @private\r\n    */\r\n    SWController.prototype.onSubChange_ = function (event) {\r\n        var _this = this;\r\n        var promiseChain = this.getToken().then(function (token) {\r\n            if (!token) {\r\n                // We can't resubscribe if we don't have an FCM token for this scope.\r\n                throw _this.errorFactory_.create(_errors2.default.codes.NO_FCM_TOKEN_FOR_RESUBSCRIBE);\r\n            }\r\n            var tokenDetails = null;\r\n            var tokenManager = _this.getTokenManager();\r\n            return tokenManager.getTokenDetailsFromToken(token).then(function (details) {\r\n                tokenDetails = details;\r\n                if (!tokenDetails) {\r\n                    throw _this.errorFactory_.create(_errors2.default.codes.INVALID_SAVED_TOKEN);\r\n                }\r\n                // Attempt to get a new subscription\r\n                return self.registration.pushManager.subscribe(_fcmDetails2.default.SUBSCRIPTION_OPTIONS);\r\n            }).then(function (newSubscription) {\r\n                // Send new subscription to FCM.\r\n                return tokenManager.subscribeToFCM(tokenDetails.fcmSenderId, newSubscription, tokenDetails.fcmPushSet);\r\n            }).catch(function (err) {\r\n                // The best thing we can do is log this to the terminal so\r\n                // developers might notice the error.\r\n                return tokenManager.deleteToken(tokenDetails.fcmToken).then(function () {\r\n                    throw _this.errorFactory_.create(_errors2.default.codes.UNABLE_TO_RESUBSCRIBE, {\r\n                        message: err\r\n                    });\r\n                });\r\n            });\r\n        });\r\n        event.waitUntil(promiseChain);\r\n    };\r\n    /**\r\n    * @private\r\n    */\r\n    SWController.prototype.onNotificationClick_ = function (event) {\r\n        var _this = this;\r\n        if (!(event.notification && event.notification.data && event.notification.data[FCM_MSG])) {\r\n            // Not an FCM notification, do nothing.\r\n            return;\r\n        }\r\n        // Prevent other listeners from receiving the event\r\n        event.stopImmediatePropagation();\r\n        event.notification.close();\r\n        var msgPayload = event.notification.data[FCM_MSG];\r\n        var clickAction = msgPayload['notification']['click_action'];\r\n        if (!clickAction) {\r\n            // Nothing to do.\r\n            return;\r\n        }\r\n        var promiseChain = this.getWindowClient_(clickAction).then(function (windowClient) {\r\n            if (!windowClient) {\r\n                // Unable to find window client so need to open one.\r\n                return self.clients.openWindow(clickAction);\r\n            }\r\n            return windowClient;\r\n        }).then(function (windowClient) {\r\n            if (!windowClient) {\r\n                // Window Client will not be returned if it's for a third party origin.\r\n                return;\r\n            }\r\n            // Delete notification data from payload before sending to the page.\r\n            var notificationData = msgPayload['notification'];\r\n            delete msgPayload['notification'];\r\n            var internalMsg = _workerPageMessage2.default.createNewMsg(_workerPageMessage2.default.TYPES_OF_MSG.NOTIFICATION_CLICKED, msgPayload);\r\n            // Attempt to send a message to the client to handle the data\r\n            // Is affected by: https://github.com/slightlyoff/ServiceWorker/issues/728\r\n            return _this.attemptToMessageClient_(windowClient, internalMsg);\r\n        });\r\n        event.waitUntil(promiseChain);\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {Object} msgPayload\r\n     * @return {NotificationOptions|undefined}\r\n     */\r\n    SWController.prototype.getNotificationData_ = function (msgPayload) {\r\n        if (!msgPayload) {\r\n            return;\r\n        }\r\n        if (_typeof(msgPayload.notification) !== 'object') {\r\n            return;\r\n        }\r\n        var notificationInformation = Object.assign({}, msgPayload.notification);\r\n        // Put the message payload under FCM_MSG name so we can identify the\r\n        // notification as being an FCM notification vs a notification from\r\n        // somewhere else (i.e. normal web push or developer generated\r\n        // notification).\r\n        notificationInformation['data'] = (_a = {}, _a[FCM_MSG] = msgPayload, _a);\r\n        return notificationInformation;\r\n        var _a;\r\n    };\r\n    /**\r\n     * Calling setBackgroundMessageHandler will opt in to some specific\r\n     * behaviours.\r\n     * 1.) If a notification doesn't need to be shown due to a window already\r\n     * being visible, then push messages will be sent to the page.\r\n     * 2.) If a notification needs to be shown, and the message contains no\r\n     * notification data this method will be called\r\n     * and the promise it returns will be passed to event.waitUntil.\r\n     * If you do not set this callback then all push messages will let and the\r\n     * developer can handle them in a their own 'push' event callback\r\n     * @export\r\n     * @param {function(Object)} callback The callback to be called when a push\r\n     * message is received and a notification must be shown. The callback will\r\n     * be given the data from the push message.\r\n     */\r\n    SWController.prototype.setBackgroundMessageHandler = function (callback) {\r\n        if (callback && typeof callback !== 'function') {\r\n            throw this.errorFactory_.create(_errors2.default.codes.BG_HANDLER_FUNCTION_EXPECTED);\r\n        }\r\n        this.bgMessageHandler_ = callback;\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {string} url The URL to look for when focusing a client.\r\n     * @return {Object} Returns an existing window client or a newly opened\r\n     * WindowClient.\r\n     */\r\n    SWController.prototype.getWindowClient_ = function (url) {\r\n        // Use URL to normalize the URL when comparing to windowClients.\r\n        // This at least handles whether to include trailing slashes or not\r\n        var parsedURL = new URL(url).href;\r\n        return self.clients.matchAll({\r\n            type: 'window',\r\n            includeUncontrolled: true\r\n        }).then(function (clientList) {\r\n            var suitableClient = null;\r\n            for (var i = 0; i < clientList.length; i++) {\r\n                var parsedClientUrl = new URL(clientList[i].url).href;\r\n                if (parsedClientUrl === parsedURL) {\r\n                    suitableClient = clientList[i];\r\n                    break;\r\n                }\r\n            }\r\n            if (suitableClient) {\r\n                suitableClient.focus();\r\n                return suitableClient;\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * This message will attempt to send the message to a window client.\r\n     * @private\r\n     * @param {Object} client The WindowClient to send the message to.\r\n     * @param {Object} message The message to send to the client.\r\n     * @returns {Promise} Returns a promise that resolves after sending the\r\n     * message. This does not guarantee that the message was successfully\r\n     * received.\r\n     */\r\n    SWController.prototype.attemptToMessageClient_ = function (client, message) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (!client) {\r\n                return reject(_this.errorFactory_.create(_errors2.default.codes.NO_WINDOW_CLIENT_TO_MSG));\r\n            }\r\n            client.postMessage(message);\r\n            resolve();\r\n        });\r\n    };\r\n    /**\r\n     * @private\r\n     * @returns {Promise<boolean>} If there is currently a visible WindowClient,\r\n     * this method will resolve to true, otherwise false.\r\n     */\r\n    SWController.prototype.hasVisibleClients_ = function () {\r\n        return self.clients.matchAll({\r\n            type: 'window',\r\n            includeUncontrolled: true\r\n        }).then(function (clientList) {\r\n            return clientList.some(function (client) {\r\n                return client.visibilityState === 'visible';\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * @private\r\n     * @param {Object} msgPayload The data from the push event that should be sent\r\n     * to all available pages.\r\n     * @returns {Promise} Returns a promise that resolves once the message\r\n     * has been sent to all WindowClients.\r\n     */\r\n    SWController.prototype.sendMessageToWindowClients_ = function (msgPayload) {\r\n        var _this = this;\r\n        return self.clients.matchAll({\r\n            type: 'window',\r\n            includeUncontrolled: true\r\n        }).then(function (clientList) {\r\n            var internalMsg = _workerPageMessage2.default.createNewMsg(_workerPageMessage2.default.TYPES_OF_MSG.PUSH_MSG_RECEIVED, msgPayload);\r\n            return Promise.all(clientList.map(function (client) {\r\n                return _this.attemptToMessageClient_(client, internalMsg);\r\n            }));\r\n        });\r\n    };\r\n    /**\r\n     * This will register the default service worker and return the registration.\r\n     * @private\r\n     * @return {Promise<!ServiceWorkerRegistration>} The service worker\r\n     * registration to be used for the push service.\r\n     */\r\n    SWController.prototype.getSWRegistration_ = function () {\r\n        return Promise.resolve(self.registration);\r\n    };\r\n    return SWController;\r\n}(_controllerInterface2.default);\r\nexports.default = SWController;\r\nmodule.exports = exports['default'];\r\n//# sourceMappingURL=sw-controller.js.map\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/firebase/messaging/controllers/sw-controller.js\n// module id = 555\n// module chunks = 3 4 5 6","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera';\r\nimport { storage } from 'firebase';\r\nimport * as firebase from 'firebase/app';\r\n\r\n//-services\r\nimport { ProfessionalsService } from '../../services/professionals.service';\r\n\r\n/**\r\n * Generated class for the DocumentPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-document',\r\n  templateUrl: 'document.html',\r\n})\r\nexport class DocumentPage {\r\n  //-form\r\n  private documentos: FormGroup;\r\n  //-load\r\n  UserActual: any;\r\n  //-view\r\n  documentFoto: string;\r\n  licenciaFoto: string;\r\n  disDocumentImg: boolean = true;\r\n  disLicenciaImg: boolean = true;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams,\r\n    private formBuilder: FormBuilder,\r\n    private camera: Camera, private professionalsService: ProfessionalsService,\r\n  ) {\r\n    this.loadView();\r\n    this.getForm();\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad DocumentPage');\r\n  }\r\n\r\n  goTerms() {\r\n    this.professionalsService.setDocument(this.UserActual, this.documentFoto, this.licenciaFoto);\r\n    this.navCtrl.push('TermsPage');\r\n  }\r\n\r\n  loadView() {\r\n    this.UserActual = localStorage.getItem('verificacion');\r\n  }\r\n\r\n  getForm() {\r\n    this.documentos = this.formBuilder.group({\r\n      documentFoto: ['', Validators.required],\r\n      licenciaFoto: ['', Validators.required],\r\n      // documentFoto : [''],\r\n      // licenciaFoto: [''],\r\n    });\r\n  }\r\n\r\n  async fotoDocumento() {\r\n    let file = this.UserActual + '/Document';\r\n    console.log('clickCamara');\r\n    try {\r\n      const options: CameraOptions = {\r\n        quality: 60,\r\n        targetHeight: 300,\r\n        targetWidth: 300,\r\n        destinationType: this.camera.DestinationType.DATA_URL,\r\n        encodingType: this.camera.EncodingType.JPEG,\r\n        mediaType: this.camera.MediaType.PICTURE\r\n      }\r\n      const result = await this.camera.getPicture(options);\r\n      const image = 'data:image/jpeg;base64,' + result;\r\n      const picture = storage().ref(file);\r\n      let UploadTask = picture.putString(image, 'data_url');\r\n      UploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\r\n        (snapshot) => { },\r\n        (error) => { console.log(error) },\r\n        () => {\r\n          let url = UploadTask.snapshot.downloadURL;\r\n          console.log(url);\r\n          this.documentFoto = url;\r\n          this.disDocumentImg = false;\r\n        }\r\n      );\r\n    } catch (e) { console.error(e); }\r\n  }\r\n\r\n\r\n  async fotoLicencia() {\r\n    let file = this.UserActual + '/Licencia';\r\n    console.log('clickCamara');\r\n    try {\r\n      const options: CameraOptions = {\r\n        quality: 60,\r\n        targetHeight: 600,\r\n        targetWidth: 600,\r\n        destinationType: this.camera.DestinationType.DATA_URL,\r\n        encodingType: this.camera.EncodingType.JPEG,\r\n        mediaType: this.camera.MediaType.PICTURE\r\n      }\r\n      const result = await this.camera.getPicture(options);\r\n      const image = 'data:image/jpeg;base64,' + result;\r\n      const picture = storage().ref(file);\r\n      let UploadTask = picture.putString(image, 'data_url');\r\n      UploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\r\n        (snapshot) => { },\r\n        (error) => { console.log(error) },\r\n        () => {\r\n          let url = UploadTask.snapshot.downloadURL;\r\n          console.log(url);\r\n          this.licenciaFoto = url;\r\n          this.disLicenciaImg = false;\r\n        }\r\n      );\r\n    } catch (e) { console.error(e); }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/document/document.ts"],"sourceRoot":""}