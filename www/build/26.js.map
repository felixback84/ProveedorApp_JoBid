{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"26.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { LoginPage } from './login';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LoginPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(LoginPage),\r\n  ],\r\n})\r\nexport class LoginPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\r\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport * as firebase from 'firebase/app';\r\nimport { Facebook } from '@ionic-native/facebook';\r\n\r\n//-service\r\nimport { ProfessionalsService } from '../../services/professionals.service';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-login',\r\n  templateUrl: 'login.html',\r\n})\r\nexport class LoginPage {\r\n  //-Data user\r\n  userData = { \"username\": \"\", \"password\": \"\" };\r\n  userDataUpdate: any = [];\r\n  pass: any;\r\n  correoVerificado: any;\r\n  //-- form validation\r\n  private todo: FormGroup;\r\n  constructor(public navCtrl: NavController, public navParams: NavParams,\r\n    public alertCtrl: AlertController, private professionalsService: ProfessionalsService,\r\n    public afAuth: AngularFireAuth,\r\n    private fb: Facebook,\r\n    private formBuilder: FormBuilder,\r\n  ) {\r\n    // this.pass =\"mi clave\";\r\n    this.todo = this.formBuilder.group({\r\n      username: ['', Validators.required],\r\n      password: ['', Validators.required],\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad LoginPage');\r\n  }\r\n\r\n  login() {\r\n\r\n    let getUserLogin = this.professionalsService.getUserLoginPwd(this.userData[\"password\"]);\r\n    // console.log(getUserLogin);\r\n    // console.log(JSON.stringify( getUserLogin) );\r\n\r\n    let userPromesa = getUserLogin.subscribe((value) => {\r\n      // console.log('success');\r\n      console.log('userPromesa-S login');\r\n      console.log(value);\r\n      for (let key in value) {\r\n        console.log(value[key]);\r\n        if (value[key]) {\r\n          // console.log(value['0']['prof_username']);\r\n          // console.log(value['0']['prof_email']);\r\n          if ((this.userData[\"username\"] == value[key]['prof_username']) || (this.userData[\"username\"] == value[key]['prof_email'])) {\r\n            console.info('existeUserPwd');\r\n            console.info(value[key]['login']);\r\n\r\n            if (value[key]['login'] != undefined) {\r\n              this.correoVerificado = value[key]['login'];\r\n            } else {\r\n              this.correoVerificado = false;\r\n            }\r\n            this.loginFirebaseUserMail(value[key]);\r\n          }\r\n        } else {\r\n          this.showAlertLogin();\r\n          console.error('-usuario no se encuentra en base de datos');\r\n        }\r\n      }\r\n      console.log('userPromesa-US login');\r\n      userPromesa.unsubscribe();\r\n    });\r\n  }\r\n\r\n  loginFirebaseUserMail(datos: any) {\r\n    //   console.log(datos);\r\n    //   console.log(datos['$key']);\r\n    //   console.log (datos['prof_email']);\r\n    //  console.log ( datos['prof_password']);\r\n\r\n    this.userDataUpdate = { \"username\": datos[\"prof_username\"], \"password\": datos[\"prof_password\"], \"email\": datos[\"prof_email\"], \"name\": datos[\"prof_name\"], \"lastName\": datos[\"prof_lastName\"], \"date\": datos[\"prof_date\"], \"socialSecurity\": datos[\"prof_socialSecurity\"], \"zipcode\": datos[\"prof_zipcode\"], \"state\": datos[\"prof_state\"], \"picture\": datos[\"prof_picture\"], \"pais\": datos[\"prof_pais\"], \"direccion\": datos[\"prof_direccion\"], \"tel\": datos[\"prof_tel\"], \"star\": datos[\"prof_star\"] };\r\n\r\n    console.log(this.userDataUpdate);\r\n    try {\r\n      const result = this.afAuth.auth.signInWithEmailAndPassword(datos['prof_email'], datos['prof_password']).then(() => {\r\n        console.log(result);\r\n        console.log(this.userDataUpdate);\r\n        console.log(this.afAuth.auth.currentUser);\r\n        console.log(this.afAuth.auth.currentUser.emailVerified);\r\n        console.log(this.correoVerificado);\r\n\r\n        if (this.correoVerificado == false) {\r\n          if (this.afAuth.auth.currentUser.emailVerified != false) {\r\n            console.info('cambio estado login base de datos');\r\n\r\n            this.professionalsService.setLogin(datos['$key'], true);\r\n            this.userDataUpdate['verificacion'] = datos['$key'];\r\n            localStorage.setItem('verificacion', datos['$key']);\r\n            this.navCtrl.setRoot('ShowPage');\r\n\r\n          } else {\r\n            this.showAlertCorreoNoVerificado();\r\n          }\r\n        } else {\r\n          this.userDataUpdate['verificacion'] = datos['$key'];\r\n          localStorage.setItem('verificacion', datos['$key']);\r\n          this.navCtrl.setRoot('ShowPage');\r\n        }\r\n        // let Data = {'datos':this.userDataUpdate}\r\n        // this.navCtrl.setRoot(ShowPage,Data);\r\n      }).catch(\r\n        (error) => {\r\n          this.showAlertLogin();\r\n        });\r\n    } catch (e) { console.error(e); console.error('error ') }\r\n  }\r\n\r\n  facebookir() {\r\n    // let goPagePrehome:boolean = false;\r\n    // let userDB:any;\r\n    try {\r\n      // firebase.auth().signInWithPopup(new firebase.auth.FacebookAuthProvider())\r\n      // // firebase.auth().signInWithRedirect(new firebase.auth.FacebookAuthProvider())\r\n      //   .then(\r\n      this.fb.login(['email'])\r\n        .then((res) => {\r\n          console.log('Logged into Facebook!', res);\r\n          // alert(JSON.stringify(res));\r\n          let credencial = firebase.auth.FacebookAuthProvider.credential(res.authResponse.accessToken);\r\n          firebase.auth().signInWithCredential(credencial).then(\r\n            (info) => {\r\n              //console.log(res.user.email);\r\n              // alert(res.authResponse.accessToken);\r\n              // alert(credencial);\r\n              // alert(JSON.stringify(info));\r\n              // alert(JSON.stringify(info.providerData['0']['email']));\r\n              // alert(JSON.stringify(info.providerData));\r\n              console.log(info);\r\n              // alert(JSON.stringify(info));\r\n              console.info(JSON.stringify(info));\r\n              // if(info.providerData[\"0\"].email){\r\n              //   let userBD =this.professionalsService.getProfessionalExists(info.providerData[\"0\"].email).subscribe(\r\n              //         (value)=>{\r\n              //           console.info(JSON.stringify(value));\r\n              //           console.log('professionalsService-S login');\r\n              //           for(let key in value){\r\n              //             // console.log(value[key]);\r\n              //             if(value[key]){\r\n              //               console.log(value[key]);\r\n              //               console.info(JSON.stringify(value[key]));\r\n              //               this.goNextPagePrehomeFace(value[key]);\r\n              //             }\r\n              //           }\r\n              //           console.log('professionalsService-US login');\r\n              //           userBD.unsubscribe();\r\n              //         }\r\n              //       );\r\n              //     }\r\n              if (info.uid) {\r\n                let userBD = this.professionalsService.getProfessionalUidFace(info.uid).subscribe(\r\n                  (value) => {\r\n                    console.info(JSON.stringify(value));\r\n                    // alert(JSON.stringify(value));\r\n                    console.log('professionalsService-S login');\r\n                    for (let key in value) {\r\n                      // console.log(value[key]);\r\n                      if (value[key]) {\r\n                        console.log(value[key]);\r\n                        console.info(JSON.stringify(value[key]));\r\n                        // if (value[key]['login'] != undefined) {\r\n                        this.correoVerificado = true;\r\n                        // }\r\n                        this.goNextPagePrehomeFace(value[key]);\r\n                      }\r\n                    }\r\n                    console.log('professionalsService-US login');\r\n                    userBD.unsubscribe();\r\n                  }\r\n                );\r\n              }\r\n            }\r\n          ).catch(e => {\r\n            console.log('Error signInWithCredential', e);\r\n            // alert(JSON.stringify(e));\r\n            // alert('Error signInWithCredential');\r\n          });\r\n        }).catch(e => {\r\n          console.log('Error zing into Facebook', e)\r\n          // alert(JSON.stringify(e));\r\n        });\r\n    } catch (e) {\r\n      console.error(e);\r\n      // alert('try c info');\r\n    }\r\n  }\r\n\r\n  goNextPagePrehomeFace(datos: any) {\r\n    //   console.log(datos);\r\n    // alert('gonexpagePre');\r\n    console.log(datos['$key']);\r\n    console.log(datos['prof_email']);\r\n    console.log(datos['prof_password']);\r\n\r\n    this.userDataUpdate = { \"username\": datos[\"prof_username\"], \"password\": datos[\"prof_password\"], \"email\": datos[\"prof_email\"], \"name\": datos[\"prof_name\"], \"lastName\": datos[\"prof_lastName\"], \"date\": datos[\"prof_date\"], \"socialSecurity\": datos[\"prof_socialSecurity\"], \"zipcode\": datos[\"prof_zipcode\"], \"state\": datos[\"prof_state\"], \"picture\": datos[\"prof_picture\"], \"pais\": datos[\"prof_pais\"], \"direccion\": datos[\"prof_direccion\"], \"tel\": datos[\"prof_tel\"], \"star\": datos[\"prof_star\"] };\r\n\r\n    // console.log(this.userDataUpdate);\r\n    // if (this.correoVerificado == true) {\r\n    this.userDataUpdate['verificacion'] = datos['$key'];\r\n    localStorage.setItem('verificacion', datos['$key']);\r\n    this.navCtrl.setRoot('ShowPage');\r\n    // }\r\n    // this.userDataUpdate['verificacion'] = datos['$key'];\r\n    // localStorage.setItem('verificacion', datos['$key']);\r\n    // console.log(this.userDataUpdate);\r\n    // this.navCtrl.setRoot('ShowPage');\r\n\r\n  }\r\n\r\n  //-- alertas\r\n  showAlertLogin() {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'login failed',\r\n      subTitle: 'Bad request wrong username or email and password',\r\n      buttons: ['OK']\r\n    });\r\n    alert.present();\r\n  }\r\n  showAlertCorreoNoVerificado() {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'login failed',\r\n      subTitle: 'Verify your email address for this application',\r\n      buttons: ['OK']\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  showAlertCorreoNoVerificadoFacebook() {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'login failed',\r\n      subTitle: 'Verify your email address for this application and login once for the form',\r\n      buttons: ['OK']\r\n    });\r\n    alert.present();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}